{"ast":null,"code":"import { quanLyPhimService } from '../../services/QuanLyPhimService'; // import { SET_DANH_SACH_PHIM } from \"../../redux/types/movieType\"\n\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\nimport { history } from '../../App';\nimport swal from 'sweetalert';\nexport const layDanhSachPhimAction = function () {\n  let tenPhim = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return async dispatch => {\n    try {\n      //Sử dụng tham số thamSo\n      const result = await quanLyPhimService.layDanhSachPhim(tenPhim); //Sau khi lấy dữ liệu từ api về => redux (reducer)\n\n      dispatch({\n        type: SET_DANH_SACH_PHIM,\n        arrFilm: result\n      });\n    } catch (error) {\n      console.log('errors', error);\n    }\n  };\n};\nexport const layThongTinPhimAction = maPhim => {\n  return async dispatch => {\n    try {\n      //Sử dụng tham số thamSo\n      const result = await quanLyPhimService.layThongTinPhim(maPhim); // console.log(result);\n\n      dispatch({\n        type: SET_THONG_TIN_PHIM,\n        thongTinPhim: result\n      });\n    } catch (errors) {\n      console.log('errors', errors);\n    }\n  };\n};\nexport const capNhatPhimUploadAction = formData => {\n  return async dispatch => {\n    try {\n      let result = await quanLyPhimService.capNhatPhimUpload(formData); // alert('Cập nhật phim thành công!')\n\n      swal(\"Cập nhật phim thành công!\", \"\", \"success\");\n      console.log('result', result);\n      dispatch(layDanhSachPhimAction());\n      history.push('/admin/films');\n    } catch (errors) {\n      console.log(errors);\n    }\n  };\n};\nexport const themPhimUploadHinhAction = formData => {\n  return async dispatch => {\n    try {\n      let result = await quanLyPhimService.themPhimUploadHinh(formData); // alert('Thêm phim thành công!')\n\n      console.log('result', result);\n      swal(\"Thêm phim thành công!\", \"\", \"success\");\n    } catch (errors) {\n      console.log(errors);\n    }\n  };\n};\nexport const xoaPhimAction = maPhim => {\n  return async dispatch => {\n    try {\n      //Sử dụng tham số thamSo\n      const result = await quanLyPhimService.xoaPhim(maPhim);\n      console.log('result', result); // alert('Xóa phim thành công ! ')\n\n      swal(\"Xóa phim thành công!\", \"\", \"success\"); //Sau khi xóa load lại danh sách phim mới\n\n      dispatch(layDanhSachPhimAction());\n    } catch (errors) {\n      console.log('errors', errors);\n    }\n  };\n};","map":{"version":3,"names":["quanLyPhimService","SET_DANH_SACH_PHIM","SET_THONG_TIN_PHIM","history","swal","layDanhSachPhimAction","tenPhim","dispatch","result","layDanhSachPhim","type","arrFilm","error","console","log","layThongTinPhimAction","maPhim","layThongTinPhim","thongTinPhim","errors","capNhatPhimUploadAction","formData","capNhatPhimUpload","push","themPhimUploadHinhAction","themPhimUploadHinh","xoaPhimAction","xoaPhim"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyPhimAction.js"],"sourcesContent":["import { quanLyPhimService } from '../../services/QuanLyPhimService'\n// import { SET_DANH_SACH_PHIM } from \"../../redux/types/movieType\"\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\"\nimport {history} from '../../App'\nimport swal from 'sweetalert'; \n\n\n\nexport const layDanhSachPhimAction = (tenPhim = '') => {\n\n\n    return async (dispatch) => {\n        try{\n            //Sử dụng tham số thamSo\n\n            const result = await quanLyPhimService.layDanhSachPhim(tenPhim);\n\n\n            //Sau khi lấy dữ liệu từ api về => redux (reducer)\n            dispatch({\n                type:SET_DANH_SACH_PHIM,\n                arrFilm: result\n            })\n\n        }catch (error){\n            console.log('errors',error)\n        }\n    }\n}\n\nexport const layThongTinPhimAction = (maPhim) => {\n    return async (dispatch) => {\n        try{\n            //Sử dụng tham số thamSo\n            const result = await quanLyPhimService.layThongTinPhim(maPhim);\n            // console.log(result);\n            dispatch({\n                type:SET_THONG_TIN_PHIM,\n                thongTinPhim: result\n\n            })\n            \n\n        }catch (errors){\n            console.log('errors',errors)\n        }\n    }\n}\n\nexport const capNhatPhimUploadAction = (formData) => {\n    return async (dispatch) => {\n        try{\n\n\n            let result = await quanLyPhimService.capNhatPhimUpload(formData);\n            // alert('Cập nhật phim thành công!')\n            swal(\"Cập nhật phim thành công!\", \"\", \"success\");\n            console.log('result', result);\n\n            dispatch(layDanhSachPhimAction())\n            history.push('/admin/films')\n            \n            \n        }catch(errors) {\n            console.log(errors)\n        }\n    }\n}\n\n\nexport const themPhimUploadHinhAction = (formData) => {\n    return async (dispatch) => {\n        try{\n\n\n            let result = await quanLyPhimService.themPhimUploadHinh(formData);\n            // alert('Thêm phim thành công!')\n            console.log('result', result);\n\n            swal(\"Thêm phim thành công!\", \"\", \"success\"); \n            \n            \n        }catch(errors) {\n            console.log(errors)\n        }\n    }\n}\n\n\nexport const xoaPhimAction = (maPhim) => {\n\n    return async (dispatch) => {\n        try{\n            //Sử dụng tham số thamSo\n            const result = await quanLyPhimService.xoaPhim(maPhim);\n            console.log('result',result)\n            // alert('Xóa phim thành công ! ')\n            swal(\"Xóa phim thành công!\", \"\", \"success\");\n            //Sau khi xóa load lại danh sách phim mới\n            dispatch(layDanhSachPhimAction())\n            \n        }catch (errors){\n            console.log('errors',errors)\n        }\n    }\n}\n\n"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,kCAAlC,C,CACA;;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,QAAuD,wBAAvD;AACA,SAAQC,OAAR,QAAsB,WAAtB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAIA,OAAO,MAAMC,qBAAqB,GAAG,YAAkB;EAAA,IAAjBC,OAAiB,uEAAP,EAAO;EAGnD,OAAO,MAAOC,QAAP,IAAoB;IACvB,IAAG;MACC;MAEA,MAAMC,MAAM,GAAG,MAAMR,iBAAiB,CAACS,eAAlB,CAAkCH,OAAlC,CAArB,CAHD,CAMC;;MACAC,QAAQ,CAAC;QACLG,IAAI,EAACT,kBADA;QAELU,OAAO,EAAEH;MAFJ,CAAD,CAAR;IAKH,CAZD,CAYC,OAAOI,KAAP,EAAa;MACVC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBF,KAArB;IACH;EACJ,CAhBD;AAiBH,CApBM;AAsBP,OAAO,MAAMG,qBAAqB,GAAIC,MAAD,IAAY;EAC7C,OAAO,MAAOT,QAAP,IAAoB;IACvB,IAAG;MACC;MACA,MAAMC,MAAM,GAAG,MAAMR,iBAAiB,CAACiB,eAAlB,CAAkCD,MAAlC,CAArB,CAFD,CAGC;;MACAT,QAAQ,CAAC;QACLG,IAAI,EAACR,kBADA;QAELgB,YAAY,EAAEV;MAFT,CAAD,CAAR;IAOH,CAXD,CAWC,OAAOW,MAAP,EAAc;MACXN,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBK,MAArB;IACH;EACJ,CAfD;AAgBH,CAjBM;AAmBP,OAAO,MAAMC,uBAAuB,GAAIC,QAAD,IAAc;EACjD,OAAO,MAAOd,QAAP,IAAoB;IACvB,IAAG;MAGC,IAAIC,MAAM,GAAG,MAAMR,iBAAiB,CAACsB,iBAAlB,CAAoCD,QAApC,CAAnB,CAHD,CAIC;;MACAjB,IAAI,CAAC,2BAAD,EAA8B,EAA9B,EAAkC,SAAlC,CAAJ;MACAS,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBN,MAAtB;MAEAD,QAAQ,CAACF,qBAAqB,EAAtB,CAAR;MACAF,OAAO,CAACoB,IAAR,CAAa,cAAb;IAGH,CAZD,CAYC,OAAMJ,MAAN,EAAc;MACXN,OAAO,CAACC,GAAR,CAAYK,MAAZ;IACH;EACJ,CAhBD;AAiBH,CAlBM;AAqBP,OAAO,MAAMK,wBAAwB,GAAIH,QAAD,IAAc;EAClD,OAAO,MAAOd,QAAP,IAAoB;IACvB,IAAG;MAGC,IAAIC,MAAM,GAAG,MAAMR,iBAAiB,CAACyB,kBAAlB,CAAqCJ,QAArC,CAAnB,CAHD,CAIC;;MACAR,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBN,MAAtB;MAEAJ,IAAI,CAAC,uBAAD,EAA0B,EAA1B,EAA8B,SAA9B,CAAJ;IAGH,CAVD,CAUC,OAAMe,MAAN,EAAc;MACXN,OAAO,CAACC,GAAR,CAAYK,MAAZ;IACH;EACJ,CAdD;AAeH,CAhBM;AAmBP,OAAO,MAAMO,aAAa,GAAIV,MAAD,IAAY;EAErC,OAAO,MAAOT,QAAP,IAAoB;IACvB,IAAG;MACC;MACA,MAAMC,MAAM,GAAG,MAAMR,iBAAiB,CAAC2B,OAAlB,CAA0BX,MAA1B,CAArB;MACAH,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBN,MAArB,EAHD,CAIC;;MACAJ,IAAI,CAAC,sBAAD,EAAyB,EAAzB,EAA6B,SAA7B,CAAJ,CALD,CAMC;;MACAG,QAAQ,CAACF,qBAAqB,EAAtB,CAAR;IAEH,CATD,CASC,OAAOc,MAAP,EAAc;MACXN,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBK,MAArB;IACH;EACJ,CAbD;AAcH,CAhBM"},"metadata":{},"sourceType":"module"}