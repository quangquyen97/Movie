{"ast":null,"code":"import { quanLyDatVeService } from './../../services/QuanLyDatVeService';\nimport { SET_CHI_TIET_PHONG_VE, DAT_VE_HOAN_TAT, CHUYEN_TAB } from './types/QuanLyDatVeType';\nimport { ThongTinDatVe } from './../../_core/models/ThongTinDatVe';\nimport { displayLoadingAction, hideLoadingAction } from './LoadingAction';\nimport swal from 'sweetalert';\nexport const layChiTietPhongVeAction = maLichChieu => {\n  return async dispatch => {\n    try {\n      const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\n      dispatch({\n        type: SET_CHI_TIET_PHONG_VE,\n        chiTietPhongVe: result\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const datVeAction = function () {\n  let thongTinDatVe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new ThongTinDatVe();\n  return async dispatch => {\n    try {\n      dispatch(displayLoadingAction);\n      const result = await quanLyDatVeService.datVe(thongTinDatVe); // console.log(result);\n\n      if (result) {\n        swal(\"Đặt vé thành công!\", \"\", \"success\"); // alert(\"Đặt vé thành công!\");\n      } // Đặt vé thành công gọi API load lại phòng vé\n\n\n      await dispatch(layChiTietPhongVeAction(thongTinDatVe.maLichChieu));\n      await dispatch({\n        type: DAT_VE_HOAN_TAT\n      });\n      await dispatch(hideLoadingAction);\n      dispatch({\n        type: CHUYEN_TAB\n      });\n    } catch (error) {\n      dispatch(hideLoadingAction);\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"names":["quanLyDatVeService","SET_CHI_TIET_PHONG_VE","DAT_VE_HOAN_TAT","CHUYEN_TAB","ThongTinDatVe","displayLoadingAction","hideLoadingAction","swal","layChiTietPhongVeAction","maLichChieu","dispatch","result","layChiTietPhongVe","type","chiTietPhongVe","error","console","log","datVeAction","thongTinDatVe","datVe"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyDatVeAction.js"],"sourcesContent":["\nimport { quanLyDatVeService } from './../../services/QuanLyDatVeService';\nimport { SET_CHI_TIET_PHONG_VE, DAT_VE_HOAN_TAT, CHUYEN_TAB } from './types/QuanLyDatVeType';\nimport { ThongTinDatVe } from './../../_core/models/ThongTinDatVe';\nimport { displayLoadingAction, hideLoadingAction } from './LoadingAction';\nimport swal from 'sweetalert'; \n\nexport const layChiTietPhongVeAction = (maLichChieu) => {\n    return async (dispatch) => { \n        try {\n            const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\n\n            dispatch({\n                type: SET_CHI_TIET_PHONG_VE,\n                chiTietPhongVe: result,\n            });\n        } catch (error) {\n            console.log(error);\n        }\n     }\n}\n\nexport const datVeAction = (thongTinDatVe = new ThongTinDatVe()) => {\n    return async (dispatch) => { \n        try {\n            dispatch(displayLoadingAction);\n\n            const result = await quanLyDatVeService.datVe(thongTinDatVe);\n            // console.log(result);\n            if (result) {\n                swal(\"Đặt vé thành công!\", \"\", \"success\");\n                // alert(\"Đặt vé thành công!\");\n            }\n            // Đặt vé thành công gọi API load lại phòng vé\n            await dispatch(layChiTietPhongVeAction(thongTinDatVe.maLichChieu));\n            await dispatch({\n                type: DAT_VE_HOAN_TAT,\n            });\n            await dispatch(hideLoadingAction);\n            dispatch({type: CHUYEN_TAB});\n\n        } catch (error) {\n            dispatch(hideLoadingAction);\n            console.log(error);\n        }\n     }\n}"],"mappings":"AACA,SAASA,kBAAT,QAAmC,qCAAnC;AACA,SAASC,qBAAT,EAAgCC,eAAhC,EAAiDC,UAAjD,QAAmE,yBAAnE;AACA,SAASC,aAAT,QAA8B,oCAA9B;AACA,SAASC,oBAAT,EAA+BC,iBAA/B,QAAwD,iBAAxD;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,OAAO,MAAMC,uBAAuB,GAAIC,WAAD,IAAiB;EACpD,OAAO,MAAOC,QAAP,IAAoB;IACvB,IAAI;MACA,MAAMC,MAAM,GAAG,MAAMX,kBAAkB,CAACY,iBAAnB,CAAqCH,WAArC,CAArB;MAEAC,QAAQ,CAAC;QACLG,IAAI,EAAEZ,qBADD;QAELa,cAAc,EAAEH;MAFX,CAAD,CAAR;IAIH,CAPD,CAOE,OAAOI,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH;EACH,CAXF;AAYH,CAbM;AAeP,OAAO,MAAMG,WAAW,GAAG,YAAyC;EAAA,IAAxCC,aAAwC,uEAAxB,IAAIf,aAAJ,EAAwB;EAChE,OAAO,MAAOM,QAAP,IAAoB;IACvB,IAAI;MACAA,QAAQ,CAACL,oBAAD,CAAR;MAEA,MAAMM,MAAM,GAAG,MAAMX,kBAAkB,CAACoB,KAAnB,CAAyBD,aAAzB,CAArB,CAHA,CAIA;;MACA,IAAIR,MAAJ,EAAY;QACRJ,IAAI,CAAC,oBAAD,EAAuB,EAAvB,EAA2B,SAA3B,CAAJ,CADQ,CAER;MACH,CARD,CASA;;;MACA,MAAMG,QAAQ,CAACF,uBAAuB,CAACW,aAAa,CAACV,WAAf,CAAxB,CAAd;MACA,MAAMC,QAAQ,CAAC;QACXG,IAAI,EAAEX;MADK,CAAD,CAAd;MAGA,MAAMQ,QAAQ,CAACJ,iBAAD,CAAd;MACAI,QAAQ,CAAC;QAACG,IAAI,EAAEV;MAAP,CAAD,CAAR;IAEH,CAjBD,CAiBE,OAAOY,KAAP,EAAc;MACZL,QAAQ,CAACJ,iBAAD,CAAR;MACAU,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH;EACH,CAtBF;AAuBH,CAxBM"},"metadata":{},"sourceType":"module"}