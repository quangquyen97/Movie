{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import{Button,Table}from\"antd\";import{SearchOutlined,EditOutlined,DeleteOutlined,CalendarOutlined}from\"@ant-design/icons\";import{Input}from\"antd\";import{useSelector,useDispatch}from\"react-redux\";import{layDanhSachPhimAction,xoaPhimAction}from\"../../../redux/actions/QuanLyPhimAction\";import{NavLink}from\"react-router-dom\";import{history}from\"../../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=Input.Search;export default function Films(){var _useSelector=useSelector(function(state){return state.QuanLyPhimReducer;}),arrFilmDefault=_useSelector.arrFilmDefault;var dispatch=useDispatch();useEffect(function(){dispatch(layDanhSachPhimAction());},[]);var columns=[{title:\"Mã phim\",dataIndex:\"maPhim\",sorter:function sorter(a,b){return a.maPhim-b.maPhim;},sortDirections:[\"descend\",\"ascend\"],width:\"15%\"},{title:\"Hình ảnh\",dataIndex:\"hinhAnh\",render:function render(text,film,index){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:film.hinhAnh,alt:film.tenPhim,width:50,height:50,onError:function onError(e){e.target.onError=null;e.target.src=\"https://picsum.photos/id/\".concat(index,\"/50/50\");}})});},width:\"15%\"},{title:\"Tên phim\",dataIndex:\"tenPhim\",sorter:function sorter(a,b){var tenPhimA=a.tenPhim.toLowerCase().trim();var tenPhimB=b.tenPhim.toLowerCase().trim();if(tenPhimA>tenPhimB){return 1;}return-1;},sortDirections:[\"descend\",\"ascend\"],width:\"25%\"},{title:\"Mô tả phim\",dataIndex:\"moTa\",sorter:function sorter(a,b){var moTaA=a.moTa.toLowerCase().trim();var moTaB=b.moTa.toLowerCase().trim();if(moTaA>moTaB){return 1;}return-1;},render:function render(text,film){return/*#__PURE__*/_jsx(Fragment,{children:film.moTa.length>50?film.moTa.substr(0,50)+\" ...\":film.moTa});},sortDirections:[\"descend\",\"ascend\"],width:\"25%\"},{title:\"Hành động\",dataIndex:\"maPhim\",render:function render(text,film){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(NavLink,{className:\"mr-2 text-2xl \",to:\"/admin/films/edit/\".concat(film.maPhim),children:[\" \",/*#__PURE__*/_jsx(EditOutlined,{style:{color:\"blue\"}}),\" \"]},1),/*#__PURE__*/_jsx(\"span\",{style:{cursor:\"pointer\"},className:\"text-2xl\",onClick:function onClick(){//Gọi action xóa\nif(window.confirm(\"Bạn có chắc muốn xóa phim \"+film.tenPhim)){dispatch(xoaPhimAction(film.maPhim));}},children:/*#__PURE__*/_jsx(DeleteOutlined,{style:{color:\"red\"}})},2),/*#__PURE__*/_jsxs(NavLink,{className:\"mr-2 text-2xl \",to:\"/admin/films/showtime/\".concat(film.maPhim),children:[\" \",/*#__PURE__*/_jsx(CalendarOutlined,{style:{color:\"green\"}}),\" \"]},3)]});},sortDirections:[\"descend\",\"ascend\"],width:\"25%\"}];var data=arrFilmDefault;var onSearch=function onSearch(value){//gọi api layDanhSachPhim\ndispatch(layDanhSachPhimAction(value));};var onChange=function onChange(){};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-4xl\",children:\"Qu\\u1EA3n l\\xFD Phim\"}),/*#__PURE__*/_jsx(Button,{className:\"mb-5\",onClick:function onClick(){history.push(\"/admin/films/addnew\");},children:\"Th\\xEAm phim\"}),/*#__PURE__*/_jsx(Search,{className:\"mb-5\",placeholder:\"input search text\",enterButton:/*#__PURE__*/_jsx(SearchOutlined,{}),size:\"large\",onSearch:onSearch}),/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,onChange:onChange,rowKey:\"maPhim\"})]});}","map":{"version":3,"names":["React","Fragment","useEffect","Button","Table","SearchOutlined","EditOutlined","DeleteOutlined","CalendarOutlined","Input","useSelector","useDispatch","layDanhSachPhimAction","xoaPhimAction","NavLink","history","Search","Films","state","QuanLyPhimReducer","arrFilmDefault","dispatch","columns","title","dataIndex","sorter","a","b","maPhim","sortDirections","width","render","text","film","index","hinhAnh","tenPhim","e","target","onError","src","tenPhimA","toLowerCase","trim","tenPhimB","moTaA","moTa","moTaB","length","substr","color","cursor","window","confirm","data","onSearch","value","onChange","push"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Admin/Films/Films.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { Button, Table } from \"antd\";\nimport {\n  SearchOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  CalendarOutlined,\n} from \"@ant-design/icons\";\nimport { Input } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  layDanhSachPhimAction,\n  xoaPhimAction,\n} from \"../../../redux/actions/QuanLyPhimAction\";\nimport { NavLink } from \"react-router-dom\";\nimport { history } from \"../../../App\";\nconst { Search } = Input;\n\nexport default function Films() {\n  const { arrFilmDefault } = useSelector((state) => state.QuanLyPhimReducer);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(layDanhSachPhimAction());\n  }, []);\n\n  const columns = [\n    {\n      title: \"Mã phim\",\n      dataIndex: \"maPhim\",\n      sorter: (a, b) => a.maPhim - b.maPhim,\n      sortDirections: [\"descend\", \"ascend\"],\n      width: \"15%\",\n    },\n\n    {\n      title: \"Hình ảnh\",\n      dataIndex: \"hinhAnh\",\n      render: (text, film, index) => {\n        return (\n          <Fragment>\n            <img\n              src={film.hinhAnh}\n              alt={film.tenPhim}\n              width={50}\n              height={50}\n              onError={(e) => {\n                e.target.onError = null;\n                e.target.src = `https://picsum.photos/id/${index}/50/50`;\n              }}\n            />\n          </Fragment>\n        );\n      },\n      width: \"15%\",\n    },\n    {\n      title: \"Tên phim\",\n      dataIndex: \"tenPhim\",\n      sorter: (a, b) => {\n        let tenPhimA = a.tenPhim.toLowerCase().trim();\n        let tenPhimB = b.tenPhim.toLowerCase().trim();\n        if (tenPhimA > tenPhimB) {\n          return 1;\n        }\n        return -1;\n      },\n      sortDirections: [\"descend\", \"ascend\"],\n      width: \"25%\",\n    },\n    {\n      title: \"Mô tả phim\",\n      dataIndex: \"moTa\",\n      sorter: (a, b) => {\n        let moTaA = a.moTa.toLowerCase().trim();\n        let moTaB = b.moTa.toLowerCase().trim();\n        if (moTaA > moTaB) {\n          return 1;\n        }\n        return -1;\n      },\n      render: (text, film) => {\n        return (\n          <Fragment>\n            {film.moTa.length > 50\n              ? film.moTa.substr(0, 50) + \" ...\"\n              : film.moTa}\n          </Fragment>\n        );\n      },\n      sortDirections: [\"descend\", \"ascend\"],\n      width: \"25%\",\n    },\n    {\n      title: \"Hành động\",\n      dataIndex: \"maPhim\",\n\n      render: (text, film) => {\n        return (\n          <Fragment>\n            <NavLink\n              key={1}\n              className=\"mr-2 text-2xl \"\n              to={`/admin/films/edit/${film.maPhim}`}\n            >\n              {\" \"}\n              <EditOutlined style={{ color: \"blue\" }} />{\" \"}\n            </NavLink>\n            <span\n              style={{ cursor: \"pointer\" }}\n              key={2}\n              className=\"text-2xl\"\n              onClick={() => {\n                //Gọi action xóa\n                if (\n                  window.confirm(\"Bạn có chắc muốn xóa phim \" + film.tenPhim)\n                ) {\n                  dispatch(xoaPhimAction(film.maPhim));\n                }\n              }}\n            >\n              <DeleteOutlined style={{ color: \"red\" }} />\n            </span>\n\n            <NavLink\n              key={3}\n              className=\"mr-2 text-2xl \"\n              to={`/admin/films/showtime/${film.maPhim}`}\n            >\n              {\" \"}\n              <CalendarOutlined style={{ color: \"green\" }} />{\" \"}\n            </NavLink>\n          </Fragment>\n        );\n      },\n      sortDirections: [\"descend\", \"ascend\"],\n      width: \"25%\",\n    },\n  ];\n\n  const data = arrFilmDefault;\n\n  const onSearch = (value) => {\n    //gọi api layDanhSachPhim\n    dispatch(layDanhSachPhimAction(value));\n  };\n\n  const onChange = () => {};\n\n  return (\n    <div>\n      <h3 className=\"text-4xl\">Quản lý Phim</h3>\n      <Button\n        className=\"mb-5\"\n        onClick={() => {\n          history.push(\"/admin/films/addnew\");\n        }}\n      >\n        Thêm phim\n      </Button>\n      <Search\n        className=\"mb-5\"\n        placeholder=\"input search text\"\n        enterButton={<SearchOutlined />}\n        size=\"large\"\n        onSearch={onSearch}\n      ></Search>\n\n      <Table\n        columns={columns}\n        dataSource={data}\n        onChange={onChange}\n        rowKey={\"maPhim\"}\n      />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}