{"ast":null,"code":"import { quanLyNguoiDungService } from '../../services/QuanLyNguoiDungService';\nimport { DANG_NHAP_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_TAI_KHOAN_ADMIN } from './types/QuanLyNguoiDungType';\nimport { history } from '../../App';\nimport { QuanLyNguoiDungReducer } from '../reducers/QuanLyNguoiDungReducer';\nexport const dangNhapAction = thongTinDangNhap => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.dangNhap(thongTinDangNhap);\n      dispatch({\n        type: DANG_NHAP_ACTION,\n        thongTinDangNhap: result\n      });\n      alert(\"Đăng nhập thành công!\"); // history.push(\"/\");\n      // console.log('result', result);\n\n      if (result.maLoaiNguoiDung !== \"KhachHang\") {\n        history.push(\"/admin\");\n      } else {\n        history.push(\"/\");\n      } // console.log(\"result\", result);\n\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const layThongTinNguoiDungAction = () => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layThongTinNguoiDung();\n      dispatch({\n        type: SET_THONG_TIN_NGUOI_DUNG,\n        thongTinNguoiDung: result\n      }); // console.log(\"result\", result.thongTinDatVe);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const dangKyAction = thongTinDangKy => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.dangKy(thongTinDangKy); // console.log(result);\n\n      alert(\"Đăng ký thành công!\");\n      history.push(\"/login\");\n    } catch (error) {\n      console.log(error);\n      alert(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\");\n    }\n  };\n};\nexport const layDanhSachNguoiDungAction = function () {\n  let taiKhoan = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layDanhSachNguoiDung(taiKhoan);\n      dispatch({\n        type: SET_DANH_SACH_NGUOI_DUNG,\n        arrUser: result\n      }); // console.log(\"result\", result);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const themNguoiDungAction = values => {\n  return async dispatch => {\n    try {\n      let result = await quanLyNguoiDungService.themNguoiDung(values);\n      alert(\"Thêm người dùng thành công!\");\n      console.log('result', result);\n    } catch (errors) {\n      console.log('errors', errors);\n    }\n  };\n};\nexport const layThongTinTaiKhoanAdminAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layThongTinTaiKhoanAdmin(taiKhoan); // console.log(\"result\", result);\n\n      dispatch({\n        type: SET_THONG_TIN_TAI_KHOAN_ADMIN,\n        thongTinTaiKhoanAdmin: result\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const capNhatThongTinNguoiDungAction = values => {\n  return async () => {\n    try {\n      const result = await quanLyNguoiDungService.capNhatThongTinNguoiDung(values);\n      alert(\"Cập nhật thành công\");\n      console.log('result', result);\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n};\nexport const xoaNguoiDungAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.xoaNguoiDung(taiKhoan);\n      console.log('result', result);\n      alert(\"Xóa thành công\"); //Sau khi xóa load lại danh sách người dùng\n\n      dispatch(layDanhSachNguoiDungAction());\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n};","map":{"version":3,"names":["quanLyNguoiDungService","DANG_NHAP_ACTION","SET_DANH_SACH_NGUOI_DUNG","SET_THONG_TIN_NGUOI_DUNG","SET_THONG_TIN_TAI_KHOAN_ADMIN","history","QuanLyNguoiDungReducer","dangNhapAction","thongTinDangNhap","dispatch","result","dangNhap","type","alert","maLoaiNguoiDung","push","error","console","log","layThongTinNguoiDungAction","layThongTinNguoiDung","thongTinNguoiDung","dangKyAction","thongTinDangKy","dangKy","layDanhSachNguoiDungAction","taiKhoan","layDanhSachNguoiDung","arrUser","themNguoiDungAction","values","themNguoiDung","errors","layThongTinTaiKhoanAdminAction","layThongTinTaiKhoanAdmin","thongTinTaiKhoanAdmin","capNhatThongTinNguoiDungAction","capNhatThongTinNguoiDung","xoaNguoiDungAction","xoaNguoiDung"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyNguoiDungAction.js"],"sourcesContent":["\nimport { quanLyNguoiDungService } from '../../services/QuanLyNguoiDungService';\nimport { DANG_NHAP_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_TAI_KHOAN_ADMIN } from './types/QuanLyNguoiDungType';\nimport { history } from '../../App';\nimport { QuanLyNguoiDungReducer } from '../reducers/QuanLyNguoiDungReducer';\n\nexport const dangNhapAction = (thongTinDangNhap) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.dangNhap(thongTinDangNhap);\n\n            dispatch({\n                type: DANG_NHAP_ACTION,\n                thongTinDangNhap: result,\n            })\n\n            alert(\"Đăng nhập thành công!\");\n            // history.push(\"/\");\n            // console.log('result', result);\n            if (result.maLoaiNguoiDung !== \"KhachHang\") {\n                history.push(\"/admin\");\n            }else{\n                history.push(\"/\")\n            }\n\n            // console.log(\"result\", result);\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const layThongTinNguoiDungAction = () => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layThongTinNguoiDung();\n\n            dispatch({\n                type: SET_THONG_TIN_NGUOI_DUNG,\n                thongTinNguoiDung: result,\n            })\n\n            // console.log(\"result\", result.thongTinDatVe);\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const dangKyAction = (thongTinDangKy) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.dangKy(thongTinDangKy);\n\n            // console.log(result);\n            alert(\"Đăng ký thành công!\");\n            history.push(\"/login\");\n\n        } catch (error) {\n            console.log(error);\n            alert(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\");\n        }\n    }\n}\n\n\nexport const layDanhSachNguoiDungAction = (taiKhoan='') => {\n\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layDanhSachNguoiDung(taiKhoan);\n\n            dispatch({\n                type: SET_DANH_SACH_NGUOI_DUNG,\n                arrUser: result,\n            })\n\n            // console.log(\"result\", result);\n\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n\n\n}\n\n\nexport const themNguoiDungAction = (values) => {\n    return async (dispatch) => {\n        try{\n            let result = await quanLyNguoiDungService.themNguoiDung(values);\n            alert(\"Thêm người dùng thành công!\")\n            console.log('result',result);\n\n        }catch(errors) {\n            console.log('errors',errors)\n        }\n    }\n}\n\n\nexport const layThongTinTaiKhoanAdminAction = (taiKhoan) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layThongTinTaiKhoanAdmin(taiKhoan);\n\n            // console.log(\"result\", result);\n\n              dispatch({\n                type: SET_THONG_TIN_TAI_KHOAN_ADMIN,\n                thongTinTaiKhoanAdmin: result,\n            })\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const capNhatThongTinNguoiDungAction = (values) => {\n    return async () => {\n        try{\n            const result = await quanLyNguoiDungService.capNhatThongTinNguoiDung(values);\n            alert(\"Cập nhật thành công\")\n\n            console.log('result' , result)\n\n        }catch (error){\n            console.log('error',error);\n        }\n    }\n}\n\nexport const xoaNguoiDungAction = (taiKhoan) => {\n    return async (dispatch) => {\n        try{\n            const result = await quanLyNguoiDungService.xoaNguoiDung(taiKhoan);\n            console.log('result',result)\n            alert(\"Xóa thành công\")\n\n            //Sau khi xóa load lại danh sách người dùng\n            dispatch(layDanhSachNguoiDungAction())\n        }catch (error) {\n            console.log('error',error);\n        }\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}