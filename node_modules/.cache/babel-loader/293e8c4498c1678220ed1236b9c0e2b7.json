{"ast":null,"code":"import _regeneratorRuntime from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{quanLyPhimService}from\"../../services/QuanLyPhimService\";import{SET_DANH_SACH_PHIM,SET_THONG_TIN_PHIM}from\"./types/QuanLyPhimType\";import{history}from\"../../App\";import swal from\"sweetalert\";export var layDanhSachPhimAction=function layDanhSachPhimAction(){var tenPhim=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return quanLyPhimService.layDanhSachPhim(tenPhim);case 3:result=_context.sent;dispatch({type:SET_DANH_SACH_PHIM,arrFilm:result});_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var layThongTinPhimAction=function layThongTinPhimAction(maPhim){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return quanLyPhimService.layThongTinPhim(maPhim);case 3:result=_context2.sent;dispatch({type:SET_THONG_TIN_PHIM,thongTinPhim:result});_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var capNhatPhimUploadAction=function capNhatPhimUploadAction(formData){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return quanLyPhimService.capNhatPhimUpload(formData);case 3:result=_context3.sent;swal(\"Cập nhật phim thành công!\",\"\",\"success\");dispatch(layDanhSachPhimAction());history.push(\"/admin/films\");_context3.next=11;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var themPhimUploadHinhAction=function themPhimUploadHinhAction(formData){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return quanLyPhimService.themPhimUploadHinh(formData);case 3:result=_context4.sent;swal(\"Thêm phim thành công!\",\"\",\"success\");_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);swal(_context4.t0.content,\"\",\"success\");case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var xoaPhimAction=function xoaPhimAction(maPhim){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return quanLyPhimService.xoaPhim(maPhim);case 3:result=_context5.sent;swal(\"Xóa phim thành công!\",\"\",\"success\");dispatch(layDanhSachPhimAction());_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);swal(_context5.t0.content,\"\",\"error\");case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["quanLyPhimService","SET_DANH_SACH_PHIM","SET_THONG_TIN_PHIM","history","swal","layDanhSachPhimAction","tenPhim","dispatch","layDanhSachPhim","result","type","arrFilm","layThongTinPhimAction","maPhim","layThongTinPhim","thongTinPhim","capNhatPhimUploadAction","formData","capNhatPhimUpload","push","themPhimUploadHinhAction","themPhimUploadHinh","content","xoaPhimAction","xoaPhim"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyPhimAction.js"],"sourcesContent":["import { quanLyPhimService } from \"../../services/QuanLyPhimService\";\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\nimport { history } from \"../../App\";\nimport swal from \"sweetalert\";\n\nexport const layDanhSachPhimAction = (tenPhim = \"\") => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.layDanhSachPhim(tenPhim);\n\n      dispatch({\n        type: SET_DANH_SACH_PHIM,\n        arrFilm: result,\n      });\n    } catch (error) {}\n  };\n};\n\nexport const layThongTinPhimAction = (maPhim) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.layThongTinPhim(maPhim);\n      dispatch({\n        type: SET_THONG_TIN_PHIM,\n        thongTinPhim: result,\n      });\n    } catch (errors) {}\n  };\n};\n\nexport const capNhatPhimUploadAction = (formData) => {\n  return async (dispatch) => {\n    try {\n      let result = await quanLyPhimService.capNhatPhimUpload(formData);\n      swal(\"Cập nhật phim thành công!\", \"\", \"success\");\n\n      dispatch(layDanhSachPhimAction());\n      history.push(\"/admin/films\");\n    } catch (errors) {}\n  };\n};\n\nexport const themPhimUploadHinhAction = (formData) => {\n  return async (dispatch) => {\n    try {\n      let result = await quanLyPhimService.themPhimUploadHinh(formData);\n      swal(\"Thêm phim thành công!\", \"\", \"success\");\n    } catch (errors) {\n      swal(errors.content, \"\", \"success\");\n    }\n  };\n};\n\nexport const xoaPhimAction = (maPhim) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.xoaPhim(maPhim);\n      swal(\"Xóa phim thành công!\", \"\", \"success\");\n      dispatch(layDanhSachPhimAction());\n    } catch (errors) {\n      swal(errors.content, \"\", \"error\");\n    }\n  };\n};\n"],"mappings":"8WAAA,OAASA,iBAAT,KAAkC,kCAAlC,CACA,OAASC,kBAAT,CAA6BC,kBAA7B,KAAuD,wBAAvD,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,MAAOC,KAAP,KAAiB,YAAjB,CAEA,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAkB,IAAjBC,QAAiB,2DAAP,EAAO,CACrD,iGAAO,iBAAOC,QAAP,qKAEkBP,kBAAiB,CAACQ,eAAlB,CAAkCF,OAAlC,CAFlB,QAEGG,MAFH,eAIHF,QAAQ,CAAC,CACPG,IAAI,CAAET,kBADC,CAEPU,OAAO,CAAEF,MAFF,CAAD,CAAR,CAJG,iJAAP,+DAUD,CAXM,CAaP,MAAO,IAAMG,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,MAAD,CAAY,CAC/C,kGAAO,kBAAON,QAAP,2KAEkBP,kBAAiB,CAACc,eAAlB,CAAkCD,MAAlC,CAFlB,QAEGJ,MAFH,gBAGHF,QAAQ,CAAC,CACPG,IAAI,CAAER,kBADC,CAEPa,YAAY,CAAEN,MAFP,CAAD,CAAR,CAHG,uJAAP,iEASD,CAVM,CAYP,MAAO,IAAMO,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACC,QAAD,CAAc,CACnD,kGAAO,kBAAOV,QAAP,2KAEgBP,kBAAiB,CAACkB,iBAAlB,CAAoCD,QAApC,CAFhB,QAECR,MAFD,gBAGHL,IAAI,CAAC,2BAAD,CAA8B,EAA9B,CAAkC,SAAlC,CAAJ,CAEAG,QAAQ,CAACF,qBAAqB,EAAtB,CAAR,CACAF,OAAO,CAACgB,IAAR,CAAa,cAAb,EANG,yJAAP,iEASD,CAVM,CAYP,MAAO,IAAMC,yBAAwB,CAAG,QAA3BA,yBAA2B,CAACH,QAAD,CAAc,CACpD,kGAAO,kBAAOV,QAAP,2KAEgBP,kBAAiB,CAACqB,kBAAlB,CAAqCJ,QAArC,CAFhB,QAECR,MAFD,gBAGHL,IAAI,CAAC,uBAAD,CAA0B,EAA1B,CAA8B,SAA9B,CAAJ,CAHG,mFAKHA,IAAI,CAAC,aAAOkB,OAAR,CAAiB,EAAjB,CAAqB,SAArB,CAAJ,CALG,sEAAP,iEAQD,CATM,CAWP,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACV,MAAD,CAAY,CACvC,kGAAO,kBAAON,QAAP,2KAEkBP,kBAAiB,CAACwB,OAAlB,CAA0BX,MAA1B,CAFlB,QAEGJ,MAFH,gBAGHL,IAAI,CAAC,sBAAD,CAAyB,EAAzB,CAA6B,SAA7B,CAAJ,CACAG,QAAQ,CAACF,qBAAqB,EAAtB,CAAR,CAJG,mFAMHD,IAAI,CAAC,aAAOkB,OAAR,CAAiB,EAAjB,CAAqB,OAArB,CAAJ,CANG,sEAAP,iEASD,CAVM"},"metadata":{},"sourceType":"module"}