{"ast":null,"code":"var _jsxFileName = \"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Admin/Films/Showtime/ShowTime.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { InputNumber, Select } from \"antd\";\nimport { Button, Form, DatePicker } from \"antd\";\nimport { quanLyRapService } from \"../../../../services/QuanLyRapService\";\nimport { useFormik } from \"formik\";\nimport moment from \"moment\";\nimport { quanLyDatVeService } from \"../../../../services/QuanLyDatVeService\";\nimport swal from \"sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShowTime(props) {\n  _s();\n\n  var _state$cumRapChieu;\n\n  const formik = useFormik({\n    initialValues: {\n      maPhim: props.match.params.id,\n      ngayChieuGioChieu: \"\",\n      maRap: \"\",\n      giaVe: \"\"\n    },\n    onSubmit: async values => {\n      try {\n        const result = await quanLyDatVeService.taoLichChieu(values);\n        swal(\"Tạo lịch chiếu thành công!\", \"\", \"success\");\n      } catch (error) {\n        swal(error.content, \"\", \"error\");\n      }\n    }\n  });\n  const [state, setState] = useState({\n    heThongRapChieu: [],\n    cumRapChieu: []\n  });\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        let result = await quanLyRapService.layThongTinHeThongRap();\n        setState({ ...state,\n          heThongRapChieu: result\n        });\n      } catch (error) {}\n    }\n\n    fetchData();\n  }, []);\n\n  const handleChangeHeThongRap = async value => {\n    try {\n      let result = await quanLyRapService.layThongTinCumRap(value);\n      setState({ ...state,\n        cumRapChieu: result\n      });\n    } catch (error) {}\n  };\n\n  const handleChangeCumRap = value => {\n    formik.setFieldValue(\"maRap\", value);\n  };\n\n  const onOk = values => {\n    formik.setFieldValue(\"ngayChieuGioChieu\", moment(values).format(\"DD/MM/YYYY hh:mm:ss\"));\n  };\n\n  const onChangeDate = values => {\n    formik.setFieldValue(\"ngayChieuGioChieu\", moment(values).format(\"DD/MM/YYYY hh:mm:ss\"));\n  };\n\n  const onChangeInputNumber = value => {\n    formik.setFieldValue(\"giaVe\", value);\n  };\n\n  const convertSelectHTR = () => {\n    var _state$heThongRapChie;\n\n    return (_state$heThongRapChie = state.heThongRapChieu) === null || _state$heThongRapChie === void 0 ? void 0 : _state$heThongRapChie.map((htr, index) => {\n      return {\n        label: htr.tenHeThongRap,\n        value: htr.maHeThongRap\n      };\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"basic\",\n      labelCol: {\n        span: 8\n      },\n      wrapperCol: {\n        span: 16\n      },\n      initialValues: {\n        remember: true\n      },\n      onSubmitCapture: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl\",\n        children: \"T\\u1EA1o l\\u1ECBch chi\\u1EBFu \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"H\\u1EC7 th\\u1ED1ng r\\u1EA1p\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: convertSelectHTR(),\n          onChange: handleChangeHeThongRap,\n          placeholder: \"Ch\\u1ECDn h\\u1EC7 th\\u1ED1ng r\\u1EA1p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"C\\u1EE5m r\\u1EA1p\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: (_state$cumRapChieu = state.cumRapChieu) === null || _state$cumRapChieu === void 0 ? void 0 : _state$cumRapChieu.map((cumRap, index) => ({\n            label: cumRap.tenCumRap,\n            value: cumRap.maCumRap\n          })),\n          onChange: handleChangeCumRap,\n          placeholder: \"Ch\\u1ECDn c\\u1EE5m r\\u1EA1p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Ng\\xE0y chi\\u1EBFu gi\\u1EDD chi\\u1EBFu\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          format: \"DD/MM/YYYY hh:mm:ss\",\n          showTime: true,\n          onChange: onChangeDate,\n          onOk: onOk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Gi\\xE1 v\\xE9\",\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {\n          defaultValue: 3,\n          onChange: onChangeInputNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Ch\\u1EE9c n\\u0103ng\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"submit\",\n          children: \"T\\u1EA1o l\\u1ECBch chi\\u1EBFu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShowTime, \"qoUWdj/26tZ0rg4wz4cSBiXumwA=\", false, function () {\n  return [useFormik];\n});\n\n_c = ShowTime;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowTime\");","map":{"version":3,"names":["React","useState","useEffect","InputNumber","Select","Button","Form","DatePicker","quanLyRapService","useFormik","moment","quanLyDatVeService","swal","ShowTime","props","formik","initialValues","maPhim","match","params","id","ngayChieuGioChieu","maRap","giaVe","onSubmit","values","result","taoLichChieu","error","content","state","setState","heThongRapChieu","cumRapChieu","fetchData","layThongTinHeThongRap","handleChangeHeThongRap","value","layThongTinCumRap","handleChangeCumRap","setFieldValue","onOk","format","onChangeDate","onChangeInputNumber","convertSelectHTR","map","htr","index","label","tenHeThongRap","maHeThongRap","span","remember","handleSubmit","cumRap","tenCumRap","maCumRap"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Admin/Films/Showtime/ShowTime.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { InputNumber, Select } from \"antd\";\nimport { Button, Form, DatePicker } from \"antd\";\nimport { quanLyRapService } from \"../../../../services/QuanLyRapService\";\nimport { useFormik } from \"formik\";\nimport moment from \"moment\";\nimport { quanLyDatVeService } from \"../../../../services/QuanLyDatVeService\";\nimport swal from \"sweetalert\";\n\nexport default function ShowTime(props) {\n  const formik = useFormik({\n    initialValues: {\n      maPhim: props.match.params.id,\n      ngayChieuGioChieu: \"\",\n      maRap: \"\",\n      giaVe: \"\",\n    },\n    onSubmit: async (values) => {\n      try {\n        const result = await quanLyDatVeService.taoLichChieu(values);\n\n        swal(\"Tạo lịch chiếu thành công!\", \"\", \"success\");\n      } catch (error) {\n        swal(error.content, \"\", \"error\");\n      }\n    },\n  });\n\n  const [state, setState] = useState({\n    heThongRapChieu: [],\n    cumRapChieu: [],\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        let result = await quanLyRapService.layThongTinHeThongRap();\n        setState({\n          ...state,\n          heThongRapChieu: result,\n        });\n      } catch (error) {}\n    }\n    fetchData();\n  }, []);\n\n  const handleChangeHeThongRap = async (value) => {\n    try {\n      let result = await quanLyRapService.layThongTinCumRap(value);\n      setState({\n        ...state,\n        cumRapChieu: result,\n      });\n    } catch (error) {}\n  };\n\n  const handleChangeCumRap = (value) => {\n    formik.setFieldValue(\"maRap\", value);\n  };\n\n  const onOk = (values) => {\n    formik.setFieldValue(\n      \"ngayChieuGioChieu\",\n      moment(values).format(\"DD/MM/YYYY hh:mm:ss\")\n    );\n  };\n\n  const onChangeDate = (values) => {\n    formik.setFieldValue(\n      \"ngayChieuGioChieu\",\n      moment(values).format(\"DD/MM/YYYY hh:mm:ss\")\n    );\n  };\n  const onChangeInputNumber = (value) => {\n    formik.setFieldValue(\"giaVe\", value);\n  };\n  const convertSelectHTR = () => {\n    return state.heThongRapChieu?.map((htr, index) => {\n      return { label: htr.tenHeThongRap, value: htr.maHeThongRap };\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 8 }}\n        wrapperCol={{ span: 16 }}\n        initialValues={{ remember: true }}\n        onSubmitCapture={formik.handleSubmit}\n      >\n        <h3 className=\"text-2xl\">Tạo lịch chiếu </h3>\n\n        <Form.Item label=\"Hệ thống rạp\">\n          <Select\n            options={convertSelectHTR()}\n            onChange={handleChangeHeThongRap}\n            placeholder=\"Chọn hệ thống rạp\"\n          />\n        </Form.Item>\n\n        <Form.Item label=\"Cụm rạp\">\n          <Select\n            options={state.cumRapChieu?.map((cumRap, index) => ({\n              label: cumRap.tenCumRap,\n              value: cumRap.maCumRap,\n            }))}\n            onChange={handleChangeCumRap}\n            placeholder=\"Chọn cụm rạp\"\n          />\n        </Form.Item>\n\n        <Form.Item label=\"Ngày chiếu giờ chiếu\">\n          <DatePicker\n            format=\"DD/MM/YYYY hh:mm:ss\"\n            showTime\n            onChange={onChangeDate}\n            onOk={onOk}\n          />\n        </Form.Item>\n\n        <Form.Item label=\"Giá vé\">\n          <InputNumber defaultValue={3} onChange={onChangeInputNumber} />\n        </Form.Item>\n        <Form.Item label=\"Chức năng\">\n          <Button htmlType=\"submit\">Tạo lịch chiếu</Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}