{"ast":null,"code":"import _objectSpread from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"Component\"];import{UserOutlined,FileOutlined,DesktopOutlined}from\"@ant-design/icons\";import{useSelector}from\"react-redux\";import{Breadcrumb,Layout,Menu,Tabs}from\"antd\";import{Fragment,useEffect,useState}from\"react\";import{NavLink,Redirect,Route}from\"react-router-dom\";import{history}from\"../../App\";import{TOKEN,USER_LOGIN}from\"../../ulti/setting\";import _ from\"lodash\";import swal from\"sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content,Footer=Layout.Footer,Sider=Layout.Sider;var SubMenu=Menu.SubMenu;export var AdminTemplate=function AdminTemplate(props){var Component=props.Component,restProps=_objectWithoutProperties(props,_excluded);var _useSelector=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),userLogin=_useSelector.userLogin;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),collapsed=_useState2[0],setCollapsed=_useState2[1];var onCollapse=function onCollapse(collapsed){setCollapsed(collapsed);};useEffect(function(){window.scrollTo(0,0);});if(!localStorage.getItem(USER_LOGIN)){swal(\"Bạn không có quyền truy cập vào trang này!\",\"\",\"warning\");return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}if(userLogin.maLoaiNguoiDung!==\"QuanTri\"){swal(\"Bạn không có quyền truy cập vào trang này!\",\"\",\"warning\");return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}var operations=/*#__PURE__*/_jsx(Fragment,{children:!_.isEmpty(userLogin)?/*#__PURE__*/_jsxs(Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"button\",{disabled:true,onClick:function onClick(){history.push(\"/profile\");},className:\"text-2xl\",children:[\"Xin ch\\xE0o \",userLogin.hoTen,\" \",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(UserOutlined,{style:{fontSize:\"30px\"}})})]}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){localStorage.removeItem(USER_LOGIN);localStorage.removeItem(TOKEN);localStorage.removeItem(\"accessToken\");history.push(\"/home\");window.location.reload();},className:\"text-800\",children:\"Sign out\"}),\" \"]}):\"\"});return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},restProps),{},{render:function render(propsRoute){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Tabs,{className:\"m-0\",style:{backgroundColor:\"#001529\",color:\"white\"},tabBarExtraContent:operations}),/*#__PURE__*/_jsxs(Layout,{style:{minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(Sider,{collapsible:true,collapsed:collapsed,onCollapse:onCollapse,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo p-5\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\"})}),/*#__PURE__*/_jsxs(Menu,{theme:\"dark\",defaultSelectedKeys:[\"1\"],mode:\"inline\",children:[/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),title:\"Users\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/admin/users\",children:\"Users\"})},\"1\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/admin/users/adduser\",children:\"Add user\"})},\"2\")]},\"sub2\"),/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),title:\"Films\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/admin/films\",children:\"Films\"})},\"10\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/admin/films/addnew\",children:\"Add new\"})},\"11\")]},\"sub1\")]})]}),/*#__PURE__*/_jsxs(Layout,{className:\"site-layout\",children:[/*#__PURE__*/_jsx(Header,{className:\"site-layout-background\",style:{padding:0}}),/*#__PURE__*/_jsxs(Content,{style:{margin:\"0 16px\"},children:[/*#__PURE__*/_jsx(Breadcrumb,{style:{margin:\"16px 0\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"site-layout-background\",style:{padding:24},children:/*#__PURE__*/_jsx(Component,_objectSpread({},propsRoute))})]})]})]})]});}}));};","map":{"version":3,"names":["UserOutlined","FileOutlined","DesktopOutlined","useSelector","Breadcrumb","Layout","Menu","Tabs","Fragment","useEffect","useState","NavLink","Redirect","Route","history","TOKEN","USER_LOGIN","_","swal","Header","Content","Footer","Sider","SubMenu","AdminTemplate","props","Component","restProps","state","QuanLyNguoiDungReducer","userLogin","collapsed","setCollapsed","onCollapse","window","scrollTo","localStorage","getItem","maLoaiNguoiDung","operations","isEmpty","push","hoTen","fontSize","removeItem","location","reload","propsRoute","backgroundColor","color","minHeight","padding","margin"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/templates/AdminTemplate/AdminTemplate.js"],"sourcesContent":["import { UserOutlined, FileOutlined, DesktopOutlined } from \"@ant-design/icons\";\nimport { useSelector } from \"react-redux\";\nimport { Breadcrumb, Layout, Menu, Tabs } from \"antd\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { NavLink, Redirect, Route } from \"react-router-dom\";\nimport { history } from \"../../App\";\nimport { TOKEN, USER_LOGIN } from \"../../ulti/setting\";\nimport _ from \"lodash\";\nimport swal from \"sweetalert\";\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nexport const AdminTemplate = (props) => {\n  const { Component, ...restProps } = props;\n  const { userLogin } = useSelector((state) => state.QuanLyNguoiDungReducer);\n\n  const [collapsed, setCollapsed] = useState(false);\n\n  const onCollapse = (collapsed) => {\n    setCollapsed(collapsed);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  });\n\n  if (!localStorage.getItem(USER_LOGIN)) {\n    swal(\"Bạn không có quyền truy cập vào trang này!\", \"\", \"warning\");\n    return <Redirect to=\"/\" />;\n  }\n\n  if (userLogin.maLoaiNguoiDung !== \"QuanTri\") {\n    swal(\"Bạn không có quyền truy cập vào trang này!\", \"\", \"warning\");\n    return <Redirect to=\"/\" />;\n  }\n\n  const operations = (\n    <Fragment>\n      {!_.isEmpty(userLogin) ? (\n        <Fragment>\n          {\" \"}\n          <button\n            disabled\n            onClick={() => {\n              history.push(\"/profile\");\n            }}\n            className=\"text-2xl\"\n          >\n            Xin chào {userLogin.hoTen}{\" \"}\n            <span>\n              <UserOutlined style={{ fontSize: \"30px\" }} />\n            </span>\n          </button>{\" \"}\n          <button\n            onClick={() => {\n              localStorage.removeItem(USER_LOGIN);\n              localStorage.removeItem(TOKEN);\n              localStorage.removeItem(\"accessToken\");\n              history.push(\"/home\");\n              window.location.reload();\n            }}\n            className=\"text-800\"\n          >\n            Sign out\n          </button>{\" \"}\n        </Fragment>\n      ) : (\n        \"\"\n      )}\n    </Fragment>\n  );\n\n  return (\n    <Route\n      {...restProps}\n      render={(propsRoute) => {\n        return (\n          <Fragment>\n            <Tabs\n              className=\"m-0\"\n              style={{ backgroundColor: \"#001529\", color: \"white\" }}\n              tabBarExtraContent={operations}\n            ></Tabs>\n            <Layout style={{ minHeight: \"100vh\" }}>\n              <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\n                <div className=\"logo p-5\">\n                  <img src=\"\" />\n                </div>\n                <Menu theme=\"dark\" defaultSelectedKeys={[\"1\"]} mode=\"inline\">\n                  <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"Users\">\n                    <Menu.Item key=\"1\" icon={<UserOutlined />}>\n                      <NavLink to=\"/admin/users\">Users</NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"2\" icon={<UserOutlined />}>\n                      <NavLink to=\"/admin/users/adduser\">Add user</NavLink>\n                    </Menu.Item>\n                  </SubMenu>\n\n                  <SubMenu key=\"sub1\" icon={<FileOutlined />} title=\"Films\">\n                    <Menu.Item key=\"10\" icon={<FileOutlined />}>\n                      <NavLink to=\"/admin/films\">Films</NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"11\" icon={<FileOutlined />}>\n                      <NavLink to=\"/admin/films/addnew\">Add new</NavLink>\n                    </Menu.Item>\n                  </SubMenu>\n                </Menu>\n              </Sider>\n              <Layout className=\"site-layout\">\n                <Header\n                  className=\"site-layout-background\"\n                  style={{ padding: 0 }}\n                ></Header>\n                <Content style={{ margin: \"0 16px\" }}>\n                  <Breadcrumb style={{ margin: \"16px 0\" }}></Breadcrumb>\n                  <div\n                    className=\"site-layout-background\"\n                    style={{ padding: 24 }}\n                  >\n                    <Component {...propsRoute} />\n                  </div>\n                </Content>\n              </Layout>\n            </Layout>\n          </Fragment>\n        );\n      }}\n    />\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}