{"ast":null,"code":"import _objectSpread from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{Fragment}from'react';import{useSelector,useDispatch}from'react-redux';import style from'./Checkout.module.css';import{useEffect}from'react';import{datVeAction,layChiTietPhongVeAction}from'./../../redux/actions/QuanLyDatVeAction';import{CloseOutlined,UserOutlined,CheckOutlined,HomeOutlined}from'@ant-design/icons';import'./Checkout.css';import{DAT_VE}from'../../redux/actions/types/QuanLyDatVeType';import _ from'lodash';import{ThongTinDatVe}from'./../../_core/models/ThongTinDatVe';import{Tabs}from'antd';import{layThongTinNguoiDungAction}from'../../redux/actions/QuanLyNguoiDungAction';import moment from'moment';import{history}from'../../App';import{TOKEN,USER_LOGIN}from'../../ulti/setting';import{NavLink}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Checkout(props){var _useSelector=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),userLogin=_useSelector.userLogin;var _useSelector2=useSelector(function(state){return state.QuanLyDatVeReducer;}),chiTietPhongVe=_useSelector2.chiTietPhongVe,danhSachGheDangDat=_useSelector2.danhSachGheDangDat;var dispatch=useDispatch();useEffect(function(){var action=layChiTietPhongVeAction(props.match.params.id);dispatch(action);},[]);var thongTinPhim=chiTietPhongVe.thongTinPhim,danhSachGhe=chiTietPhongVe.danhSachGhe;var renderSeats=function renderSeats(){return danhSachGhe.map(function(ghe,index){var classGheVip=ghe.loaiGhe==='Vip'?'gheVip':'';var classGheDaDat=ghe.daDat===true?'gheDaDat':'';var classGheDangDat='';var indexGheDangDat=danhSachGheDangDat.findIndex(function(gheDD){return gheDD.maGhe===ghe.maGhe;});var clasGheDaDuocDat='';if(userLogin.taiKhoan===ghe.taiKhoanNguoiDat){clasGheDaDuocDat='gheDaDuocDat';}if(indexGheDangDat!==-1){classGheDangDat='gheDangDat';}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){dispatch({type:DAT_VE,gheDuocChon:ghe});},disabled:ghe.daDat,className:\"ghe \".concat(classGheVip,\" \").concat(classGheDaDat,\" \").concat(classGheDangDat,\" \").concat(clasGheDaDuocDat,\" text-center\"),children:ghe.daDat?clasGheDaDuocDat!==''?/*#__PURE__*/_jsx(UserOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}}):/*#__PURE__*/_jsx(CloseOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}}):ghe.stt}),(index+1)%16===0?/*#__PURE__*/_jsx(\"br\",{}):'']},index);});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen pt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-9 sm:col-span-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-black\",style:{width:'80%',height:15}}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(style['trapezoid'],\" text-center\"),children:/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3 text-black\",children:\"M\\xE0n h\\xECnh\"})}),/*#__PURE__*/_jsx(\"div\",{children:renderSeats()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 flex justify-center\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"divide-y divide-gray-200 w-2/3\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 p-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Gh\\u1EBF ch\\u01B0a \\u0111\\u1EB7t\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gh\\u1EBF \\u0111ang \\u0111\\u1EB7t\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gh\\u1EBF vip\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gh\\u1EBF \\u0111\\xE3 \\u0111\\u1EB7t\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gh\\u1EBF m\\xECnh \\u0111\\u1EB7t\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ghe\",children:/*#__PURE__*/_jsx(CheckOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ghe gheDangDat\",children:/*#__PURE__*/_jsx(CheckOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ghe gheVip\",children:/*#__PURE__*/_jsx(CheckOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ghe gheDaDat\",children:/*#__PURE__*/_jsx(CheckOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ghe gheDaDuocDat\",children:/*#__PURE__*/_jsx(CheckOutlined,{style:{marginBottom:7.5,fontWeight:'bold'}})})})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-3 sm:col-span-12 pt-10 ml-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-green-400 text-center text-2xl\",children:[danhSachGheDangDat.reduce(function(tongTien,ghe,index){return tongTien+=ghe.giaVe;},0).toLocaleString(),\" \\u0111\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl mt-2\",children:thongTinPhim.tenPhim}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0110\\u1ECBa \\u0111i\\u1EC3m: \",thongTinPhim.tenCumRap,\" - \",thongTinPhim.tenRap]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ng\\xE0y chi\\u1EBFu: \",thongTinPhim.ngayChieu,\" - \",thongTinPhim.gioChieu]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400 text-lg\",children:\"Gh\\u1EBF\"}),_.sortBy(danhSachGheDangDat,['stt']).map(function(gheDD,index){return/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-500 text-xl\",children:[\" \",gheDD.stt,\" \"]},index);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right col-span-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-800 text-lg\",children:danhSachGheDangDat.reduce(function(tongTien,ghe,index){return tongTien+=ghe.giaVe;},0).toLocaleString()})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"i\",{children:\"Email\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),userLogin.email]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"i\",{children:\"Phone\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),userLogin.soDT]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-0 h-full flex flex-col items-center\",style:{marginBottom:0},children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){var thongTinDatVe=new ThongTinDatVe();thongTinDatVe.maLichChieu=props.match.params.id;thongTinDatVe.danhSachVe=danhSachGheDangDat;dispatch(datVeAction(thongTinDatVe));},className:\"bg-green-500 text-while w-full text-center py-3 font-bold text-2xl cursor-pointer\",children:\"\\u0110\\u1EB6T V\\xC9\"})})]})]})});}export default function CheckoutTab(props){var _useSelector3=useSelector(function(state){return state.QuanLyDatVeReducer;}),tabActive=_useSelector3.tabActive;var dispatch=useDispatch();var _useSelector4=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),userLogin=_useSelector4.userLogin;var operations=/*#__PURE__*/_jsx(Fragment,{children:!_.isEmpty(userLogin)?/*#__PURE__*/_jsxs(Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){history.push('/profile');},className:\"text-2xl\",children:[\"Xin ch\\xE0o \",userLogin.hoTen,\" \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){history.push('/profile');},children:/*#__PURE__*/_jsx(UserOutlined,{style:{fontSize:'30px'}})})]}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){localStorage.removeItem(USER_LOGIN);localStorage.removeItem(TOKEN);localStorage.removeItem(\"accessToken\");history.push('/home');window.location.reload();},className:\"text-blue-800\",children:\"Sign out\"}),\" \"]}):''});useEffect(function(){return function(){dispatch({type:'CHANGE_TAB_ACTIVE',number:'1'});};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(Tabs,{tabBarExtraContent:operations,defaultActiveKey:\"1\",activeKey:tabActive,onChange:function onChange(key){dispatch({type:'CHANGE_TAB_ACTIVE',number:key});},children:[/*#__PURE__*/_jsx(Tabs.TabPane,{tab:\"01 CH\\u1ECCN GH\\u1EBE & THANH TO\\xC1N\",children:/*#__PURE__*/_jsx(Checkout,_objectSpread({},props))},\"1\"),/*#__PURE__*/_jsx(Tabs.TabPane,{tab:\"02 K\\u1EBET QU\\u1EA2 \\u0110\\u1EB6T V\\xC9\",children:/*#__PURE__*/_jsx(KetQuaDatVe,_objectSpread({},props))},\"2\"),/*#__PURE__*/_jsx(Tabs.TabPane,{tab:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",style:{display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(HomeOutlined,{style:{marginLeft:10,fontSize:25}})})}),children:/*#__PURE__*/_jsx(KetQuaDatVe,_objectSpread({},props))},\"4\")]})});};function KetQuaDatVe(){var _useSelector5=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),thongTinNguoiDung=_useSelector5.thongTinNguoiDung;var dispatch=useDispatch();useEffect(function(){var action=layThongTinNguoiDungAction();dispatch(action);},[]);var renderTicketItem=function renderTicketItem(){var _thongTinNguoiDung$th;return thongTinNguoiDung===null||thongTinNguoiDung===void 0?void 0:(_thongTinNguoiDung$th=thongTinNguoiDung.thongTinDatVe)===null||_thongTinNguoiDung$th===void 0?void 0:_thongTinNguoiDung$th.map(function(nguoiDung,index){var _nguoiDung$danhSachGh;var ngayDat=nguoiDung.ngayDat,tenPhim=nguoiDung.tenPhim,hinhAnh=nguoiDung.hinhAnh;return nguoiDung===null||nguoiDung===void 0?void 0:(_nguoiDung$danhSachGh=nguoiDung.danhSachGhe)===null||_nguoiDung$danhSachGh===void 0?void 0:_nguoiDung$danhSachGh.map(function(ghe,index){return/*#__PURE__*/_jsx(\"div\",{className:\"p-2 lg:w-1/3 md:w-1/2 w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex items-center border-gray-200 border p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"team\",className:\"w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4\",src:hinhAnh}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-gray-900 title-font font-medium\",children:tenPhim}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500\",children:[\"Ng\\xE0y \\u0111\\u1EB7t \",moment(ngayDat).format('DD-MM-YYYY hh:mm')]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0110\\u1ECBa \\u0111i\\u1EC3m: \",ghe===null||ghe===void 0?void 0:ghe.tenHeThongRap,\" - \",ghe===null||ghe===void 0?void 0:ghe.tenCumRap]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 gh\\u1EBF: \",ghe===null||ghe===void 0?void 0:ghe.tenGhe]})]})]})},index);});});};return/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsx(\"section\",{className:\"text-gray-600 body-font\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container px-5 py-24 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col text-center w-full mb-20\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"sm:text-3xl text-2xl font-medium title-font mb-4 text-purple-600\",children:\"L\\u1ECBch s\\u1EED \\u0111\\u1EB7t v\\xE9 kh\\xE1ch h\\xE0ng\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lg:w-2/3 mx-auto leading-relaxed text-base\",children:\"H\\xE3y xem th\\xF4ng tin \\u0111\\u1ECBa \\u0111i\\u1EC3m v\\xE0 th\\u1EDDi gian \\u0111\\u1EC3 xem phim vui v\\u1EBB b\\u1EA1n nh\\xE9!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap -m-2\",children:renderTicketItem()})]})})});}","map":{"version":3,"names":["React","Fragment","useSelector","useDispatch","style","useEffect","datVeAction","layChiTietPhongVeAction","CloseOutlined","UserOutlined","CheckOutlined","HomeOutlined","DAT_VE","_","ThongTinDatVe","Tabs","layThongTinNguoiDungAction","moment","history","TOKEN","USER_LOGIN","NavLink","Checkout","props","state","QuanLyNguoiDungReducer","userLogin","QuanLyDatVeReducer","chiTietPhongVe","danhSachGheDangDat","dispatch","action","match","params","id","thongTinPhim","danhSachGhe","renderSeats","map","ghe","index","classGheVip","loaiGhe","classGheDaDat","daDat","classGheDangDat","indexGheDangDat","findIndex","gheDD","maGhe","clasGheDaDuocDat","taiKhoan","taiKhoanNguoiDat","type","gheDuocChon","marginBottom","fontWeight","stt","width","height","reduce","tongTien","giaVe","toLocaleString","tenPhim","tenCumRap","tenRap","ngayChieu","gioChieu","sortBy","email","soDT","thongTinDatVe","maLichChieu","danhSachVe","CheckoutTab","tabActive","operations","isEmpty","push","hoTen","fontSize","localStorage","removeItem","window","location","reload","number","key","display","justifyContent","alignItems","marginLeft","KetQuaDatVe","thongTinNguoiDung","renderTicketItem","nguoiDung","ngayDat","hinhAnh","format","tenHeThongRap","tenGhe"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Checkout/Checkout.jsx"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { useSelector, useDispatch } from 'react-redux';\nimport style from './Checkout.module.css';\nimport { useEffect } from 'react';\nimport { datVeAction, layChiTietPhongVeAction } from './../../redux/actions/QuanLyDatVeAction';\nimport { CloseOutlined, UserOutlined, CheckOutlined, HomeOutlined } from '@ant-design/icons'\nimport './Checkout.css';\nimport { DAT_VE } from '../../redux/actions/types/QuanLyDatVeType';\nimport _ from 'lodash';\nimport { ThongTinDatVe } from './../../_core/models/ThongTinDatVe';\nimport { Tabs } from 'antd';\nimport { layThongTinNguoiDungAction } from '../../redux/actions/QuanLyNguoiDungAction';\nimport moment from 'moment';\nimport { history } from '../../App';\nimport { TOKEN, USER_LOGIN } from '../../ulti/setting';\nimport { NavLink } from 'react-router-dom';\n\nfunction Checkout(props) {\n\n    let { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\n\n    let { chiTietPhongVe, danhSachGheDangDat } = useSelector(state => state.QuanLyDatVeReducer);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const action = layChiTietPhongVeAction(props.match.params.id);\n        dispatch(action);\n    }, []);\n\n    let { thongTinPhim, danhSachGhe } = chiTietPhongVe;\n\n    const renderSeats = () => {\n        return danhSachGhe.map((ghe, index) => {\n            let classGheVip = ghe.loaiGhe === 'Vip' ? 'gheVip' : '';\n            let classGheDaDat = ghe.daDat === true ? 'gheDaDat' : '';\n            let classGheDangDat = '';\n\n            let indexGheDangDat = danhSachGheDangDat.findIndex(gheDD => gheDD.maGhe === ghe.maGhe);\n\n            let clasGheDaDuocDat = '';\n            if (userLogin.taiKhoan === ghe.taiKhoanNguoiDat) {\n                clasGheDaDuocDat = 'gheDaDuocDat';\n            }\n\n            if (indexGheDangDat !== -1) {\n                classGheDangDat = 'gheDangDat';\n            }\n\n            return <Fragment key={index}>\n                <button onClick={() => {\n                    dispatch({\n                        type: DAT_VE,\n                        gheDuocChon: ghe\n                    })\n                }} disabled={ghe.daDat} className={`ghe ${classGheVip} ${classGheDaDat} ${classGheDangDat} ${clasGheDaDuocDat} text-center`}>\n                    {ghe.daDat ? clasGheDaDuocDat !== '' ? <UserOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /> : <CloseOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /> : ghe.stt}\n                </button>\n                {(index + 1) % 16 === 0 ? <br /> : ''}\n            </Fragment>\n        })\n    }\n\n    return (\n        <div className='min-h-screen pt-5'>\n            <div className='grid grid-cols-12'>\n                <div className='xl:col-span-9 sm:col-span-12'>\n                    <div className='flex flex-col items-center mt-5'>\n                        <div className='bg-black' style={{ width: '80%', height: 15 }}></div>\n                        <div className={`${style['trapezoid']} text-center`}>\n                            <h3 className='mt-3 text-black'>Màn hình</h3>\n                        </div>\n                        <div>\n                            {renderSeats()}\n                        </div>\n                    </div>\n\n                    <div className='mt-5 flex justify-center'>\n                        <table className='divide-y divide-gray-200 w-2/3'>\n                            <thead className='bg-gray-50 p-5'>\n                                <tr>\n                                    <th>Ghế chưa đặt</th>\n                                    <th>Ghế đang đặt</th>\n                                    <th>Ghế vip</th>\n                                    <th>Ghế đã đặt</th>\n                                    <th>Ghế mình đặt</th>\n                                </tr>\n                            </thead>\n                            <tbody className='bg-white divide-y divide-gray-200'>\n                                <tr className='text-center'>\n                                    <td><button className='ghe'><CheckOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /></button></td>\n                                    <td><button className='ghe gheDangDat'><CheckOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /></button></td>\n                                    <td><button className='ghe gheVip'><CheckOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /></button></td>\n                                    <td><button className='ghe gheDaDat'><CheckOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /></button></td>\n                                    <td><button className='ghe gheDaDuocDat'><CheckOutlined style={{ marginBottom: 7.5, fontWeight: 'bold' }} /></button></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                </div>\n\n                <div className='xl:col-span-3 sm:col-span-12 pt-10 ml-5'>\n                    <h3 className='text-green-400 text-center text-2xl'>\n                        {danhSachGheDangDat.reduce((tongTien, ghe, index) => {\n                            return tongTien += ghe.giaVe;\n                        }, 0).toLocaleString()} đ\n                    </h3>\n                    <hr />\n                    <h3 className='text-xl mt-2'>{thongTinPhim.tenPhim}</h3>\n                    <p>Địa điểm: {thongTinPhim.tenCumRap} - {thongTinPhim.tenRap}</p>\n                    <p>Ngày chiếu: {thongTinPhim.ngayChieu} - {thongTinPhim.gioChieu}</p>\n                    <hr />\n                    <div className='flex flex-row my-5'>\n                        <div className='w-4/5'>\n                            <span className='text-red-400 text-lg'>Ghế</span>\n\n                            {_.sortBy(danhSachGheDangDat, ['stt']).map((gheDD, index) => {\n                                return <span key={index} className='text-green-500 text-xl'> {gheDD.stt} </span>\n                            })}\n\n                        </div>\n                        <div className='text-right col-span-1'>\n                            <span className='text-green-800 text-lg'>\n                                {danhSachGheDangDat.reduce((tongTien, ghe, index) => {\n                                    return tongTien += ghe.giaVe;\n                                }, 0).toLocaleString()}\n                            </span>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className='my-5'>\n                        <i>Email</i> <br />\n                        {userLogin.email}\n                    </div>\n                    <hr />\n                    <div className='my-5'>\n                        <i>Phone</i> <br />\n                        {userLogin.soDT}\n                    </div>\n                    <hr />\n                    <div className='mb-0 h-full flex flex-col items-center' style={{ marginBottom: 0 }}>\n                        <div onClick={() => {\n                            const thongTinDatVe = new ThongTinDatVe();\n                            thongTinDatVe.maLichChieu = props.match.params.id;\n                            thongTinDatVe.danhSachVe = danhSachGheDangDat;\n                            dispatch(datVeAction(thongTinDatVe));\n                        }} className='bg-green-500 text-while w-full text-center py-3 font-bold text-2xl cursor-pointer'>ĐẶT VÉ</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default function CheckoutTab(props) {\n    const { tabActive } = useSelector(state => state.QuanLyDatVeReducer);\n    const dispatch = useDispatch();\n    let { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\n\n    const operations = <Fragment>\n        {!_.isEmpty(userLogin) ? <Fragment> <button onClick={() => {\n            history.push('/profile')\n        }} className=\"text-2xl\">Xin chào {userLogin.hoTen} <span onClick={() => { history.push('/profile') }}><UserOutlined style={{ fontSize: '30px' }} /></span></button> <button onClick={() => {\n            localStorage.removeItem(USER_LOGIN);\n            localStorage.removeItem(TOKEN);\n            localStorage.removeItem(\"accessToken\");\n            history.push('/home');\n            window.location.reload();\n        }} className='text-blue-800'>Sign out</button> </Fragment> : ''}\n    </Fragment>\n\n    useEffect(() => {\n        return () => {\n            dispatch({\n                type: 'CHANGE_TAB_ACTIVE',\n                number: '1'\n            })\n        }\n    }, [])\n\n\n    return <div className='p-5'>\n        <Tabs tabBarExtraContent={operations} defaultActiveKey='1' activeKey={tabActive} onChange={(key) => {\n            dispatch({\n                type: 'CHANGE_TAB_ACTIVE',\n                number: key\n            })\n        }}>\n            <Tabs.TabPane tab=\"01 CHỌN GHẾ & THANH TOÁN\" key=\"1\">\n                <Checkout {...props} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"02 KẾT QUẢ ĐẶT VÉ\" key=\"2\">\n                <KetQuaDatVe {...props} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab={<div className='text-center' style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}><NavLink to=\"/\"><HomeOutlined style={{ marginLeft: 10, fontSize: 25 }} /></NavLink></div>} key=\"4\">\n                <KetQuaDatVe {...props} />\n            </Tabs.TabPane>\n\n        </Tabs>\n    </div>\n};\n\nfunction KetQuaDatVe() {\n    const { thongTinNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        const action = layThongTinNguoiDungAction();\n        dispatch(action);\n    }, []);\n\n    const renderTicketItem = () => {\n        return thongTinNguoiDung?.thongTinDatVe?.map((nguoiDung, index) => {\n            let { ngayDat, tenPhim, hinhAnh } = nguoiDung;\n            return nguoiDung?.danhSachGhe?.map((ghe, index) => {\n                return <div className=\"p-2 lg:w-1/3 md:w-1/2 w-full\" key={index}>\n                    <div className=\"h-full flex items-center border-gray-200 border p-4 rounded-lg\">\n                        <img alt=\"team\" className=\"w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4\" src={hinhAnh} />\n                        <div className=\"flex-grow\">\n                            <h2 className=\"text-gray-900 title-font font-medium\">{tenPhim}</h2>\n                            <p className=\"text-gray-500\">\n                                Ngày đặt {moment(ngayDat).format('DD-MM-YYYY hh:mm')}\n                            </p>\n                            <p>Địa điểm: {ghe?.tenHeThongRap} - {ghe?.tenCumRap}</p>\n                            <p>Số ghế: {ghe?.tenGhe}</p>\n                        </div>\n                    </div>\n                </div>\n            })\n        })\n\n    }\n\n    return <div className='p-5'>\n        <section className=\"text-gray-600 body-font\">\n            <div className=\"container px-5 py-24 mx-auto\">\n                <div className=\"flex flex-col text-center w-full mb-20\">\n                    <h1 className=\"sm:text-3xl text-2xl font-medium title-font mb-4 text-purple-600\">Lịch sử đặt vé khách hàng</h1>\n                    <p className=\"lg:w-2/3 mx-auto leading-relaxed text-base\">Hãy xem thông tin địa điểm và thời gian để xem phim vui vẻ bạn nhé!</p>\n                </div>\n                <div className=\"flex flex-wrap -m-2\">\n                    {renderTicketItem()}\n                </div>\n            </div>\n        </section>\n    </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}