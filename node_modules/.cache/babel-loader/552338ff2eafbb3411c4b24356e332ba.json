{"ast":null,"code":"import { quanLyNguoiDungService } from '../../services/QuanLyNguoiDungService';\nimport { DANG_NHAP_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_TAI_KHOAN_ADMIN } from './types/QuanLyNguoiDungType';\nimport { history } from '../../App';\nimport { QuanLyNguoiDungReducer } from '../reducers/QuanLyNguoiDungReducer';\nimport swal from 'sweetalert';\nexport const dangNhapAction = thongTinDangNhap => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.dangNhap(thongTinDangNhap);\n      dispatch({\n        type: DANG_NHAP_ACTION,\n        thongTinDangNhap: result\n      });\n      swal(\"Đăng nhập thành công!\", \"\", \"success\"); // alert(\"Đăng nhập thành công!\");\n      // history.push(\"/\");\n      // console.log('result', result);\n\n      if (result.maLoaiNguoiDung !== \"KhachHang\") {\n        history.push(\"/admin\");\n      } else {\n        history.push(\"/\");\n      } // console.log(\"result\", result);\n\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const layThongTinNguoiDungAction = () => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layThongTinNguoiDung();\n      dispatch({\n        type: SET_THONG_TIN_NGUOI_DUNG,\n        thongTinNguoiDung: result\n      }); // console.log(\"result\", result.thongTinDatVe);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const dangKyAction = thongTinDangKy => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.dangKy(thongTinDangKy); // console.log(result);\n\n      swal(\"Đăng ký thành công!\", \"\", \"success\"); // alert(\"Đăng ký thành công!\");\n\n      history.push(\"/login\");\n    } catch (error) {\n      console.log(error); // alert(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\");\n\n      swal(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\", \"\", \"error\");\n    }\n  };\n};\nexport const layDanhSachNguoiDungAction = function () {\n  let taiKhoan = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layDanhSachNguoiDung(taiKhoan);\n      dispatch({\n        type: SET_DANH_SACH_NGUOI_DUNG,\n        arrUser: result\n      }); // console.log(\"result\", result);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const themNguoiDungAction = values => {\n  return async dispatch => {\n    try {\n      let result = await quanLyNguoiDungService.themNguoiDung(values); // alert(\"Thêm người dùng thành công!\")\n\n      swal(\"Thêm người dùng thành công!\", \"\", \"success\");\n      console.log('result', result);\n    } catch (errors) {\n      console.log('errors', errors);\n    }\n  };\n};\nexport const layThongTinTaiKhoanAdminAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.layThongTinTaiKhoanAdmin(taiKhoan); // console.log(\"result\", result);\n\n      dispatch({\n        type: SET_THONG_TIN_TAI_KHOAN_ADMIN,\n        thongTinTaiKhoanAdmin: result\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const capNhatThongTinNguoiDungAction = values => {\n  return async () => {\n    try {\n      const result = await quanLyNguoiDungService.capNhatThongTinNguoiDung(values); // alert(\"Cập nhật thành công\")\n\n      swal(\"Cập nhật thành công!\", \"\", \"success\");\n      console.log('result', result);\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n};\nexport const xoaNguoiDungAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      const result = await quanLyNguoiDungService.xoaNguoiDung(taiKhoan);\n      console.log('result', result);\n      swal(\"Xóa thành công!\", \"\", \"success\"); //Sau khi xóa load lại danh sách người dùng\n\n      dispatch(layDanhSachNguoiDungAction());\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n};","map":{"version":3,"names":["quanLyNguoiDungService","DANG_NHAP_ACTION","SET_DANH_SACH_NGUOI_DUNG","SET_THONG_TIN_NGUOI_DUNG","SET_THONG_TIN_TAI_KHOAN_ADMIN","history","QuanLyNguoiDungReducer","swal","dangNhapAction","thongTinDangNhap","dispatch","result","dangNhap","type","maLoaiNguoiDung","push","error","console","log","layThongTinNguoiDungAction","layThongTinNguoiDung","thongTinNguoiDung","dangKyAction","thongTinDangKy","dangKy","layDanhSachNguoiDungAction","taiKhoan","layDanhSachNguoiDung","arrUser","themNguoiDungAction","values","themNguoiDung","errors","layThongTinTaiKhoanAdminAction","layThongTinTaiKhoanAdmin","thongTinTaiKhoanAdmin","capNhatThongTinNguoiDungAction","capNhatThongTinNguoiDung","xoaNguoiDungAction","xoaNguoiDung"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyNguoiDungAction.js"],"sourcesContent":["\nimport { quanLyNguoiDungService } from '../../services/QuanLyNguoiDungService';\nimport { DANG_NHAP_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_TAI_KHOAN_ADMIN } from './types/QuanLyNguoiDungType';\nimport { history } from '../../App';\nimport { QuanLyNguoiDungReducer } from '../reducers/QuanLyNguoiDungReducer';\nimport swal from 'sweetalert'; \n\nexport const dangNhapAction = (thongTinDangNhap) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.dangNhap(thongTinDangNhap);\n\n            dispatch({\n                type: DANG_NHAP_ACTION,\n                thongTinDangNhap: result,\n            })\n            swal(\"Đăng nhập thành công!\", \"\", \"success\");\n            // alert(\"Đăng nhập thành công!\");\n            // history.push(\"/\");\n            // console.log('result', result);\n            if (result.maLoaiNguoiDung !== \"KhachHang\") {\n                history.push(\"/admin\");\n            }else{\n                history.push(\"/\")\n            }\n\n            // console.log(\"result\", result);\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const layThongTinNguoiDungAction = () => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layThongTinNguoiDung();\n\n            dispatch({\n                type: SET_THONG_TIN_NGUOI_DUNG,\n                thongTinNguoiDung: result,\n            })\n\n            // console.log(\"result\", result.thongTinDatVe);\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const dangKyAction = (thongTinDangKy) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.dangKy(thongTinDangKy);\n\n            // console.log(result);\n            swal(\"Đăng ký thành công!\", \"\", \"success\");\n            // alert(\"Đăng ký thành công!\");\n            history.push(\"/login\");\n\n        } catch (error) {\n            console.log(error);\n            // alert(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\");\n            swal(\"Xảy ra lỗi, vui lòng kiểm tra lại thông tin!\", \"\", \"error\");\n        }\n    }\n}\n\n\nexport const layDanhSachNguoiDungAction = (taiKhoan='') => {\n\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layDanhSachNguoiDung(taiKhoan);\n\n            dispatch({\n                type: SET_DANH_SACH_NGUOI_DUNG,\n                arrUser: result,\n            })\n\n            // console.log(\"result\", result);\n\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n\n\n}\n\n\nexport const themNguoiDungAction = (values) => {\n    return async (dispatch) => {\n        try{\n            let result = await quanLyNguoiDungService.themNguoiDung(values);\n            // alert(\"Thêm người dùng thành công!\")\n            swal(\"Thêm người dùng thành công!\", \"\", \"success\");\n            console.log('result',result);\n\n        }catch(errors) {\n            console.log('errors',errors)\n        }\n    }\n}\n\n\nexport const layThongTinTaiKhoanAdminAction = (taiKhoan) => {\n    return async (dispatch) => {\n        try {\n            const result = await quanLyNguoiDungService.layThongTinTaiKhoanAdmin(taiKhoan);\n\n            // console.log(\"result\", result);\n\n              dispatch({\n                type: SET_THONG_TIN_TAI_KHOAN_ADMIN,\n                thongTinTaiKhoanAdmin: result,\n            })\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n}\n\nexport const capNhatThongTinNguoiDungAction = (values) => {\n    return async () => {\n        try{\n            const result = await quanLyNguoiDungService.capNhatThongTinNguoiDung(values);\n            // alert(\"Cập nhật thành công\")\n            swal(\"Cập nhật thành công!\", \"\", \"success\");\n            console.log('result' , result)\n\n        }catch (error){\n            console.log('error',error);\n        }\n    }\n}\n\nexport const xoaNguoiDungAction = (taiKhoan) => {\n    return async (dispatch) => {\n        try{\n            const result = await quanLyNguoiDungService.xoaNguoiDung(taiKhoan);\n            console.log('result',result)\n            swal(\"Xóa thành công!\", \"\", \"success\");\n\n            //Sau khi xóa load lại danh sách người dùng\n            dispatch(layDanhSachNguoiDungAction())\n        }catch (error) {\n            console.log('error',error);\n        }\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}