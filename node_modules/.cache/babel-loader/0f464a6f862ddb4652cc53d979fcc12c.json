{"ast":null,"code":"import _regeneratorRuntime from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{quanLyDatVeService}from\"./../../services/QuanLyDatVeService\";import{SET_CHI_TIET_PHONG_VE,DAT_VE_HOAN_TAT,CHUYEN_TAB}from\"./types/QuanLyDatVeType\";import{ThongTinDatVe}from\"./../../_core/models/ThongTinDatVe\";import{displayLoadingAction,hideLoadingAction}from\"./LoadingAction\";import swal from\"sweetalert\";export var layChiTietPhongVeAction=function layChiTietPhongVeAction(maLichChieu){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return quanLyDatVeService.layChiTietPhongVe(maLichChieu);case 3:result=_context.sent;dispatch({type:SET_CHI_TIET_PHONG_VE,chiTietPhongVe:result});_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var datVeAction=function datVeAction(){var thongTinDatVe=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new ThongTinDatVe();return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(displayLoadingAction);_context2.next=4;return quanLyDatVeService.datVe(thongTinDatVe);case 4:result=_context2.sent;if(result){swal(\"Đặt vé thành công!\",\"\",\"success\");}_context2.next=8;return dispatch(layChiTietPhongVeAction(thongTinDatVe.maLichChieu));case 8:_context2.next=10;return dispatch({type:DAT_VE_HOAN_TAT});case 10:_context2.next=12;return dispatch(hideLoadingAction);case 12:dispatch({type:CHUYEN_TAB});_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);dispatch(hideLoadingAction);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"names":["quanLyDatVeService","SET_CHI_TIET_PHONG_VE","DAT_VE_HOAN_TAT","CHUYEN_TAB","ThongTinDatVe","displayLoadingAction","hideLoadingAction","swal","layChiTietPhongVeAction","maLichChieu","dispatch","layChiTietPhongVe","result","type","chiTietPhongVe","datVeAction","thongTinDatVe","datVe"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/redux/actions/QuanLyDatVeAction.js"],"sourcesContent":["import { quanLyDatVeService } from \"./../../services/QuanLyDatVeService\";\nimport {\n  SET_CHI_TIET_PHONG_VE,\n  DAT_VE_HOAN_TAT,\n  CHUYEN_TAB,\n} from \"./types/QuanLyDatVeType\";\nimport { ThongTinDatVe } from \"./../../_core/models/ThongTinDatVe\";\nimport { displayLoadingAction, hideLoadingAction } from \"./LoadingAction\";\nimport swal from \"sweetalert\";\n\nexport const layChiTietPhongVeAction = (maLichChieu) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\n\n      dispatch({\n        type: SET_CHI_TIET_PHONG_VE,\n        chiTietPhongVe: result,\n      });\n    } catch (error) {}\n  };\n};\n\nexport const datVeAction = (thongTinDatVe = new ThongTinDatVe()) => {\n  return async (dispatch) => {\n    try {\n      dispatch(displayLoadingAction);\n\n      const result = await quanLyDatVeService.datVe(thongTinDatVe);\n\n      if (result) {\n        swal(\"Đặt vé thành công!\", \"\", \"success\");\n      }\n      await dispatch(layChiTietPhongVeAction(thongTinDatVe.maLichChieu));\n      await dispatch({\n        type: DAT_VE_HOAN_TAT,\n      });\n      await dispatch(hideLoadingAction);\n      dispatch({ type: CHUYEN_TAB });\n    } catch (error) {\n      dispatch(hideLoadingAction);\n    }\n  };\n};\n"],"mappings":"8WAAA,OAASA,kBAAT,KAAmC,qCAAnC,CACA,OACEC,qBADF,CAEEC,eAFF,CAGEC,UAHF,KAIO,yBAJP,CAKA,OAASC,aAAT,KAA8B,oCAA9B,CACA,OAASC,oBAAT,CAA+BC,iBAA/B,KAAwD,iBAAxD,CACA,MAAOC,KAAP,KAAiB,YAAjB,CAEA,MAAO,IAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACC,WAAD,CAAiB,CACtD,iGAAO,iBAAOC,QAAP,qKAEkBV,mBAAkB,CAACW,iBAAnB,CAAqCF,WAArC,CAFlB,QAEGG,MAFH,eAIHF,QAAQ,CAAC,CACPG,IAAI,CAAEZ,qBADC,CAEPa,cAAc,CAAEF,MAFT,CAAD,CAAR,CAJG,iJAAP,+DAUD,CAXM,CAaP,MAAO,IAAMG,YAAW,CAAG,QAAdA,YAAc,EAAyC,IAAxCC,cAAwC,2DAAxB,GAAIZ,cAAJ,EAAwB,CAClE,kGAAO,kBAAOM,QAAP,oJAEHA,QAAQ,CAACL,oBAAD,CAAR,CAFG,uBAIkBL,mBAAkB,CAACiB,KAAnB,CAAyBD,aAAzB,CAJlB,QAIGJ,MAJH,gBAMH,GAAIA,MAAJ,CAAY,CACVL,IAAI,CAAC,oBAAD,CAAuB,EAAvB,CAA2B,SAA3B,CAAJ,CACD,CARE,uBASGG,SAAQ,CAACF,uBAAuB,CAACQ,aAAa,CAACP,WAAf,CAAxB,CATX,gCAUGC,SAAQ,CAAC,CACbG,IAAI,CAAEX,eADO,CAAD,CAVX,iCAaGQ,SAAQ,CAACJ,iBAAD,CAbX,SAcHI,QAAQ,CAAC,CAAEG,IAAI,CAAEV,UAAR,CAAD,CAAR,CAdG,qFAgBHO,QAAQ,CAACJ,iBAAD,CAAR,CAhBG,uEAAP,iEAmBD,CApBM"},"metadata":{},"sourceType":"module"}