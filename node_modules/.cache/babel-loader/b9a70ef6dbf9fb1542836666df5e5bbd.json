{"ast":null,"code":"var _jsxFileName = \"/Users/quangquyen/Documents/TU\\u031BO\\u031BNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Admin/Films/Films.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect } from \"react\";\nimport { Button, Table } from \"antd\"; // import { QuanLyPhimReducer } from \"../../../redux/reducers/QuanLyPhimReducer\";\n\nimport { SearchOutlined, AudioOutlined, EditOutlined, DeleteOutlined, CalendarOutlined } from \"@ant-design/icons\";\nimport { Input, Space } from \"antd\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { layDanhSachPhimAction, xoaPhimAction } from \"../../../redux/actions/QuanLyPhimAction\";\nimport { NavLink } from \"react-router-dom\";\nimport { history } from \"../../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nexport default function Films() {\n  _s();\n\n  const {\n    arrFilmDefault\n  } = useSelector(state => state.QuanLyPhimReducer);\n  const dispatch = useDispatch();\n  console.log(\"arrFilmDefault\", arrFilmDefault);\n  useEffect(() => {\n    dispatch(layDanhSachPhimAction());\n  }, []);\n  const columns = [{\n    title: \"Mã phim\",\n    dataIndex: \"maPhim\",\n    sorter: (a, b) => a.maPhim - b.maPhim,\n    sortDirections: [\"descend\", 'ascend'],\n    width: '15%' //   sortOrder:'descend'\n\n  }, {\n    title: \"Hình ảnh\",\n    dataIndex: \"hinhAnh\",\n    render: (text, film, index) => {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: film.hinhAnh,\n          alt: film.tenPhim,\n          width: 50,\n          height: 50,\n          onError: e => {\n            e.target.onError = null;\n            e.target.src = `https://picsum.photos/id/${index}/50/50`;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 44\n      }, this);\n    },\n    width: '15%' //   sorter: (a, b) => a.age - b.age,\n\n  }, {\n    title: \"Tên phim\",\n    dataIndex: \"tenPhim\",\n    sorter: (a, b) => {\n      let tenPhimA = a.tenPhim.toLowerCase().trim();\n      let tenPhimB = b.tenPhim.toLowerCase().trim();\n\n      if (tenPhimA > tenPhimB) {\n        return 1;\n      }\n\n      return -1;\n    },\n    sortDirections: [\"descend\", 'ascend'],\n    width: '25%'\n  }, {\n    title: \"Mô tả phim\",\n    dataIndex: \"moTa\",\n    sorter: (a, b) => {\n      let moTaA = a.moTa.toLowerCase().trim();\n      let moTaB = b.moTa.toLowerCase().trim();\n\n      if (moTaA > moTaB) {\n        return 1;\n      }\n\n      return -1;\n    },\n    render: (text, film) => {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: film.moTa.length > 50 ? film.moTa.substr(0, 50) + ' ...' : film.moTa\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 38\n      }, this);\n    },\n    sortDirections: [\"descend\", 'ascend'],\n    width: '25%'\n  }, {\n    title: \"Hành động\",\n    dataIndex: \"maPhim\",\n    render: (text, film) => {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          className: \"mr-2 text-2xl \",\n          to: `/admin/films/edit/${film.maPhim}`,\n          children: [\" \", /*#__PURE__*/_jsxDEV(EditOutlined, {\n            style: {\n              color: 'blue'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 98\n          }, this), \" \"]\n        }, 1, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"text-2xl\",\n          onClick: () => {\n            //Gọi action xóa\n            if (window.confirm('Bạn có chắc muốn xóa phim ' + film.tenPhim)) {\n              //Gọi action\n              dispatch(xoaPhimAction(film.maPhim));\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n            style: {\n              color: 'red'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 16\n          }, this)\n        }, 2, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          className: \"mr-2 text-2xl \",\n          to: `/admin/films/showtime/${film.maPhim}`,\n          children: [\" \", /*#__PURE__*/_jsxDEV(CalendarOutlined, {\n            style: {\n              color: 'green'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 102\n          }, this), \" \"]\n        }, 3, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 38\n      }, this);\n    },\n    sortDirections: [\"descend\", 'ascend'],\n    width: '25%'\n  }];\n  const data = arrFilmDefault;\n\n  const onSearch = value => {\n    console.log(value); //gọi api layDanhSachPhim\n\n    dispatch(layDanhSachPhimAction(value));\n  };\n\n  const onChange = (pagination, filters, sorter, extra) => {\n    console.log(\"params\", pagination, filters, sorter, extra);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-4xl\",\n      children: \"Qu\\u1EA3n l\\xFD Phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-5\",\n      onClick: () => {\n        history.push('/admin/films/addnew');\n      },\n      children: \"Th\\xEAm phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      className: \"mb-5\",\n      placeholder: \"input search text\",\n      enterButton: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 23\n      }, this),\n      size: \"large\",\n      onSearch: onSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: data,\n      onChange: onChange,\n      rowKey: \"maPhim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Films, \"86RNlMkZmn6bTNKzfzXgiMwZVt0=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Films;\n\nvar _c;\n\n$RefreshReg$(_c, \"Films\");","map":{"version":3,"names":["React","Fragment","useEffect","Button","Table","SearchOutlined","AudioOutlined","EditOutlined","DeleteOutlined","CalendarOutlined","Input","Space","useSelector","useDispatch","layDanhSachPhimAction","xoaPhimAction","NavLink","history","Search","Films","arrFilmDefault","state","QuanLyPhimReducer","dispatch","console","log","columns","title","dataIndex","sorter","a","b","maPhim","sortDirections","width","render","text","film","index","hinhAnh","tenPhim","e","target","onError","src","tenPhimA","toLowerCase","trim","tenPhimB","moTaA","moTa","moTaB","length","substr","color","cursor","window","confirm","data","onSearch","value","onChange","pagination","filters","extra","push"],"sources":["/Users/quangquyen/Documents/TƯƠNG LAI/ReactProjectDN03/BCDN03_MOVIE_REACTJS-2/src/pages/Admin/Films/Films.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { Button,Table } from \"antd\";\n// import { QuanLyPhimReducer } from \"../../../redux/reducers/QuanLyPhimReducer\";\nimport { SearchOutlined, AudioOutlined,EditOutlined,DeleteOutlined, CalendarOutlined } from \"@ant-design/icons\";\nimport { Input, Space } from \"antd\";\nimport { useSelector,useDispatch} from 'react-redux'\nimport { layDanhSachPhimAction, xoaPhimAction } from \"../../../redux/actions/QuanLyPhimAction\";\nimport { NavLink } from \"react-router-dom\";\nimport { history } from \"../../../App\";\nconst {Search} = Input;\n\nexport default function Films() {\n\n    const {arrFilmDefault} = useSelector(state=> state.QuanLyPhimReducer);\n\n    const dispatch = useDispatch();\n\n    console.log(\"arrFilmDefault\",arrFilmDefault);\n\n    useEffect(() => {\n        dispatch(layDanhSachPhimAction())\n\n    },[])\n\n\n\n\n  const columns = [\n    {\n      title: \"Mã phim\",\n      dataIndex: \"maPhim\",\n      sorter: (a, b) => a.maPhim - b.maPhim,\n      sortDirections: [\"descend\",'ascend'],\n      width: '15%'\n\n    //   sortOrder:'descend'\n    },\n\n    {\n      title: \"Hình ảnh\",\n      dataIndex: \"hinhAnh\",\n      render: (text,film,index) => {return <Fragment>\n        <img src={film.hinhAnh} alt={film.tenPhim} width={50} height={50} onError={(e) => {\n            e.target.onError = null; e.target.src=`https://picsum.photos/id/${index}/50/50`\n        }}/>\n      </Fragment>},\n      width: '15%'\n    //   sorter: (a, b) => a.age - b.age,\n    },\n    {\n      title: \"Tên phim\",\n      dataIndex: \"tenPhim\",\n      sorter: (a, b) =>{\n        let tenPhimA =a.tenPhim.toLowerCase().trim();\n        let tenPhimB =b.tenPhim.toLowerCase().trim();\n        if(tenPhimA > tenPhimB) {\n            return 1;\n        }\n        return -1;\n      },\n      sortDirections: [\"descend\",'ascend'],\n      width: '25%'\n    },\n    {\n        title: \"Mô tả phim\",\n        dataIndex: \"moTa\",\n        sorter: (a, b) =>{\n          let moTaA =a.moTa.toLowerCase().trim();\n          let moTaB =b.moTa.toLowerCase().trim();\n          if(moTaA > moTaB) {\n              return 1;\n          }\n          return -1;\n        },\n        render:(text,film) => {return<Fragment>\n\n            {film.moTa.length>50 ? film.moTa.substr(0,50) + ' ...' : film.moTa}\n        </Fragment>},\n        sortDirections: [\"descend\",'ascend'],\n        width: '25%'\n      },\n      {\n        title: \"Hành động\",\n        dataIndex: \"maPhim\",\n       \n        render:(text,film) => {return<Fragment>\n            <NavLink key={1} className=\"mr-2 text-2xl \" to={`/admin/films/edit/${film.maPhim}`}> <EditOutlined style={{color:'blue'}}/> </NavLink>\n            <span style={{cursor:'pointer'}} key={2} className=\"text-2xl\" onClick={()=> {\n                //Gọi action xóa\n                if(window.confirm('Bạn có chắc muốn xóa phim ' + film.tenPhim)) {\n                     //Gọi action\n                     dispatch(xoaPhimAction(film.maPhim))\n                } \n\n            }}><DeleteOutlined style={{color:'red'}}/></span>\n\n            <NavLink key={3} className=\"mr-2 text-2xl \" to={`/admin/films/showtime/${film.maPhim}`}> <CalendarOutlined style={{color:'green'}}/> </NavLink>\n        </Fragment>},\n        sortDirections: [\"descend\",'ascend'],\n        width: '25%'\n      },\n  ];\n\n  const data = arrFilmDefault;\n  \n  const onSearch = value => {\n    \n    console.log(value);\n    //gọi api layDanhSachPhim\n    dispatch(layDanhSachPhimAction(value))\n\n  }\n  \n\n  const onChange = (pagination, filters, sorter, extra) => {\n    console.log(\"params\", pagination, filters, sorter, extra);\n  };\n\n  return (\n    <div>\n      <h3 className=\"text-4xl\">Quản lý Phim</h3>\n      <Button className=\"mb-5\" onClick={() => {\n        history.push('/admin/films/addnew')\n      }}>Thêm phim</Button>\n      <Search\n        className=\"mb-5\"\n        placeholder=\"input search text\"\n        enterButton= {<SearchOutlined />}\n        size=\"large\"\n        \n        onSearch={onSearch}\n      ></Search>\n\n      <Table columns={columns} dataSource={data} onChange={onChange} rowKey={\"maPhim\"}/>\n    </div>\n  );\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}